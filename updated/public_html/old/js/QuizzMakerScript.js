var qq=qq||{};qq.extend=function(first,second){for(var prop in second){first[prop]=second[prop];}};qq.indexOf=function(arr,elt,from){if(arr.indexOf)return arr.indexOf(elt,from);from=from||0;var len=arr.length;if(from<0)from+=len;for(;from<len;from++){if(from in arr&&arr[from]===elt){return from;}} return-1;};qq.getUniqueId=(function(){var id=0;return function(){return id++;};})();qq.attach=function(element,type,fn){if(element.addEventListener){element.addEventListener(type,fn,false);} else if(element.attachEvent){element.attachEvent('on'+type,fn);}};qq.detach=function(element,type,fn){if(element.removeEventListener){element.removeEventListener(type,fn,false);} else if(element.attachEvent){element.detachEvent('on'+type,fn);}};qq.preventDefault=function(e){if(e.preventDefault){e.preventDefault();} else{e.returnValue=false;}};qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b);};qq.remove=function(element){element.parentNode.removeChild(element);};qq.contains=function(parent,descendant){if(parent==descendant)return true;if(parent.contains){return parent.contains(descendant);} else{return!!(descendant.compareDocumentPosition(parent)&8);}};qq.toElement=(function(){var div=document.createElement('div');return function(html){div.innerHTML=html;var element=div.firstChild;div.removeChild(element);return element;};})();qq.css=function(element,styles){if(styles.opacity!=null){if(typeof element.style.opacity!='string'&&typeof(element.filters)!='undefined'){styles.filter='alpha(opacity='+Math.round(100*styles.opacity)+')';}} qq.extend(element.style,styles);};qq.hasClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');return re.test(element.className);};qq.addClass=function(element,name){if(!qq.hasClass(element,name)){element.className+=' '+name;}};qq.removeClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');element.className=element.className.replace(re,' ').replace(/^\s+|\s+$/g,"");};qq.setText=function(element,text){element.innerText=text;element.textContent=text;};qq.children=function(element){var children=[],child=element.firstChild;while(child){if(child.nodeType==1){children.push(child);} child=child.nextSibling;} return children;};qq.getByClass=function(element,className){if(element.querySelectorAll){return element.querySelectorAll('.'+className);} var result=[];var candidates=element.getElementsByTagName("*");var len=candidates.length;for(var i=0;i<len;i++){if(qq.hasClass(candidates[i],className)){result.push(candidates[i]);}} return result;};qq.obj2url=function(obj,temp,prefixDone){var uristrings=[],prefix='&',add=function(nextObj,i){var nextTemp=temp?(/\[\]$/.test(temp))?temp:temp+'['+i+']':i;if((nextTemp!='undefined')&&(i!='undefined')){uristrings.push((typeof nextObj==='object')?qq.obj2url(nextObj,nextTemp,true):(Object.prototype.toString.call(nextObj)==='[object Function]')?encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj()):encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj));}};if(!prefixDone&&temp){prefix=(/\?/.test(temp))?(/\?$/.test(temp))?'':'&':'?';uristrings.push(temp);uristrings.push(qq.obj2url(obj));} else if((Object.prototype.toString.call(obj)==='[object Array]')&&(typeof obj!='undefined')){for(var i=0,len=obj.length;i<len;++i){add(obj[i],i);}} else if((typeof obj!='undefined')&&(obj!==null)&&(typeof obj==="object")){for(var i in obj){add(obj[i],i);}} else{uristrings.push(encodeURIComponent(temp)+'='+encodeURIComponent(obj));} return uristrings.join(prefix).replace(/^&/,'').replace(/%20/g,'+');};var qq=qq||{};qq.FileUploaderBasic=function(o){this._options={debug:false,action:'/server/upload',params:{},button:null,multiple:true,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(id,fileName){},onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,responseJSON){},onCancel:function(id,fileName){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(message){alert(message);}};qq.extend(this._options,o);this._filesInProgress=0;this._handler=this._createUploadHandler();if(this._options.button){this._button=this._createUploadButton(this._options.button);} this._preventLeaveInProgress();};qq.FileUploaderBasic.prototype={setParams:function(params){this._options.params=params;},getInProgress:function(){return this._filesInProgress;},_createUploadButton:function(element){var self=this;return new qq.UploadButton({element:element,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(input){self._onInputChange(input);}});},_createUploadHandler:function(){var self=this,handlerClass;if(qq.UploadHandlerXhr.isSupported()){handlerClass='UploadHandlerXhr';} else{handlerClass='UploadHandlerForm';} var handler=new qq[handlerClass]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(id,fileName,loaded,total){self._onProgress(id,fileName,loaded,total);self._options.onProgress(id,fileName,loaded,total);},onComplete:function(id,fileName,result){self._onComplete(id,fileName,result);self._options.onComplete(id,fileName,result);},onCancel:function(id,fileName){self._onCancel(id,fileName);self._options.onCancel(id,fileName);}});return handler;},_preventLeaveInProgress:function(){var self=this;qq.attach(window,'beforeunload',function(e){if(!self._filesInProgress){return;} var e=e||window.event;e.returnValue=self._options.messages.onLeave;return self._options.messages.onLeave;});},_onSubmit:function(id,fileName){this._filesInProgress++;},_onProgress:function(id,fileName,loaded,total){},_onComplete:function(id,fileName,result){this._filesInProgress--;if(result.error){this._options.showMessage(result.error);}},_onCancel:function(id,fileName){this._filesInProgress--;},_onInputChange:function(input){if(this._handler instanceof qq.UploadHandlerXhr){this._uploadFileList(input.files);} else{if(this._validateFile(input)){this._uploadFile(input);}} this._button.reset();},_uploadFileList:function(files){for(var i=0;i<files.length;i++){if(!this._validateFile(files[i])){return;}} for(var i=0;i<files.length;i++){this._uploadFile(files[i]);}},_uploadFile:function(fileContainer){var id=this._handler.add(fileContainer);var fileName=this._handler.getName(id);if(this._options.onSubmit(id,fileName)!==false){this._onSubmit(id,fileName);this._handler.upload(id,this._options.params);}},_validateFile:function(file){var name,size;if(file.value){name=file.value.replace(/.*(\/|\\)/,"");} else{name=file.fileName!=null?file.fileName:file.name;size=file.fileSize!=null?file.fileSize:file.size;} if(!this._isAllowedExtension(name)){this._error('typeError',name);return false;} else if(size===0){this._error('emptyError',name);return false;} else if(size&&this._options.sizeLimit&&size>this._options.sizeLimit){this._error('sizeError',name);return false;} else if(size&&size<this._options.minSizeLimit){this._error('minSizeError',name);return false;} return true;},_error:function(code,fileName){var message=this._options.messages[code];function r(name,replacement){message=message.replace(name,replacement);} r('{file}',this._formatFileName(fileName));r('{extensions}',this._options.allowedExtensions.join(', '));r('{sizeLimit}',this._formatSize(this._options.sizeLimit));r('{minSizeLimit}',this._formatSize(this._options.minSizeLimit));this._options.showMessage(message);},_formatFileName:function(name){if(name.length>33){name=name.slice(0,19)+'...'+name.slice(-13);} return name;},_isAllowedExtension:function(fileName){var ext=(-1!==fileName.indexOf('.'))?fileName.replace(/.*[.]/,'').toLowerCase():'';var allowed=this._options.allowedExtensions;if(!allowed.length){return true;} for(var i=0;i<allowed.length;i++){if(allowed[i].toLowerCase()==ext){return true;}} return false;},_formatSize:function(bytes){var i=-1;do{bytes=bytes/1024;i++;} while(bytes>99);return Math.max(bytes,0.1).toFixed(1)+['kB','MB','GB','TB','PB','EB'][i];}};qq.FileUploader=function(o){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader">'+'<div class="qq-upload-drop-area"><span>Drop files here to upload</span></div>'+'<div class="qq-upload-button">Upload a file</div>'+'<ul class="qq-upload-list"></ul>'+'</div>',fileTemplate:'<li>'+'<span class="qq-upload-file"></span>'+'<span class="qq-upload-spinner"></span>'+'<span class="qq-upload-size"></span>'+'<a class="qq-upload-cancel" href="#">Cancel</a>'+'<span class="qq-upload-failed-text">Failed</span>'+'</li>',classes:{button:'qq-upload-button',drop:'qq-upload-drop-area',dropActive:'qq-upload-drop-area-active',list:'qq-upload-list',file:'qq-upload-file',spinner:'qq-upload-spinner',size:'qq-upload-size',cancel:'qq-upload-cancel',success:'qq-upload-success',fail:'qq-upload-fail'}});qq.extend(this._options,o);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,'list');this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,'button'));this._bindCancelEvent();this._setupDragDrop();};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function(parent,type){var element=qq.getByClass(parent,this._options.classes[type])[0];if(!element){throw new Error('element not found '+type);} return element;},_setupDragDrop:function(){var self=this,dropArea=this._find(this._element,'drop');var dz=new qq.UploadDropZone({element:dropArea,onEnter:function(e){qq.addClass(dropArea,self._classes.dropActive);e.stopPropagation();},onLeave:function(e){e.stopPropagation();},onLeaveNotDescendants:function(e){qq.removeClass(dropArea,self._classes.dropActive);},onDrop:function(e){dropArea.style.display='none';qq.removeClass(dropArea,self._classes.dropActive);self._uploadFileList(e.dataTransfer.files);}});dropArea.style.display='none';qq.attach(document,'dragenter',function(e){if(!dz._isValidFileDrag(e))return;dropArea.style.display='block';});qq.attach(document,'dragleave',function(e){if(!dz._isValidFileDrag(e))return;var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(!relatedTarget||relatedTarget.nodeName=="HTML"){dropArea.style.display='none';}});},_onSubmit:function(id,fileName){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(id,fileName);},_onProgress:function(id,fileName,loaded,total){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var item=this._getItemByFileId(id);var size=this._find(item,'size');size.style.display='inline';var text;if(loaded!=total){text=Math.round(loaded/total*100)+'% from '+this._formatSize(total);} else{text=this._formatSize(total);} qq.setText(size,text);},_onComplete:function(id,fileName,result){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var item=this._getItemByFileId(id);qq.remove(this._find(item,'cancel'));qq.remove(this._find(item,'spinner'));if(result.success){qq.addClass(item,this._classes.success);} else{qq.addClass(item,this._classes.fail);}},_addToList:function(id,fileName){var item=qq.toElement(this._options.fileTemplate);item.qqFileId=id;var fileElement=this._find(item,'file');qq.setText(fileElement,this._formatFileName(fileName));this._find(item,'size').style.display='none';this._listElement.appendChild(item);},_getItemByFileId:function(id){var item=this._listElement.firstChild;while(item){if(item.qqFileId==id)return item;item=item.nextSibling;}},_bindCancelEvent:function(){var self=this,list=this._listElement;qq.attach(list,'click',function(e){e=e||window.event;var target=e.target||e.srcElement;if(qq.hasClass(target,self._classes.cancel)){qq.preventDefault(e);var item=target.parentNode;self._handler.cancel(item.qqFileId);qq.remove(item);}});}});qq.UploadDropZone=function(o){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}};qq.extend(this._options,o);this._element=this._options.element;this._disableDropOutside();this._attachEvents();};qq.UploadDropZone.prototype={_disableDropOutside:function(e){if(!qq.UploadDropZone.dropOutsideDisabled){qq.attach(document,'dragover',function(e){if(e.dataTransfer){e.dataTransfer.dropEffect='none';e.preventDefault();}});qq.UploadDropZone.dropOutsideDisabled=true;}},_attachEvents:function(){var self=this;qq.attach(self._element,'dragover',function(e){if(!self._isValidFileDrag(e))return;var effect=e.dataTransfer.effectAllowed;if(effect=='move'||effect=='linkMove'){e.dataTransfer.dropEffect='move';} else{e.dataTransfer.dropEffect='copy';} e.stopPropagation();e.preventDefault();});qq.attach(self._element,'dragenter',function(e){if(!self._isValidFileDrag(e))return;self._options.onEnter(e);});qq.attach(self._element,'dragleave',function(e){if(!self._isValidFileDrag(e))return;self._options.onLeave(e);var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(qq.contains(this,relatedTarget))return;self._options.onLeaveNotDescendants(e);});qq.attach(self._element,'drop',function(e){if(!self._isValidFileDrag(e))return;e.preventDefault();self._options.onDrop(e);});},_isValidFileDrag:function(e){var dt=e.dataTransfer,isWebkit=navigator.userAgent.indexOf("AppleWebKit")>-1;return dt&&dt.effectAllowed!='none'&&(dt.files||(!isWebkit&&dt.types.contains&&dt.types.contains('Files')));}};qq.UploadButton=function(o){this._options={element:null,multiple:false,name:'file',onChange:function(input){},hoverClass:'qq-upload-button-hover',focusClass:'qq-upload-button-focus'};qq.extend(this._options,o);this._element=this._options.element;qq.css(this._element,{position:'relative',overflow:'hidden',direction:'ltr'});this._input=this._createInput();};qq.UploadButton.prototype={getInput:function(){return this._input;},reset:function(){if(this._input.parentNode){qq.remove(this._input);} qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput();},_createInput:function(){var input=document.createElement("input");if(this._options.multiple){input.setAttribute("multiple","multiple");} input.setAttribute("type","file");input.setAttribute("name",this._options.name);qq.css(input,{position:'absolute',right:0,top:0,fontFamily:'Arial',fontSize:'118px',margin:0,padding:0,cursor:'pointer',opacity:0});this._element.appendChild(input);var self=this;qq.attach(input,'change',function(){self._options.onChange(input);});qq.attach(input,'mouseover',function(){qq.addClass(self._element,self._options.hoverClass);});qq.attach(input,'mouseout',function(){qq.removeClass(self._element,self._options.hoverClass);});qq.attach(input,'focus',function(){qq.addClass(self._element,self._options.focusClass);});qq.attach(input,'blur',function(){qq.removeClass(self._element,self._options.focusClass);});if(window.attachEvent){input.setAttribute('tabIndex',"-1");} return input;}};qq.UploadHandlerAbstract=function(o){this._options={debug:false,action:'/upload.php',maxConnections:999,onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,response){},onCancel:function(id,fileName){}};qq.extend(this._options,o);this._queue=[];this._params=[];};qq.UploadHandlerAbstract.prototype={log:function(str){if(this._options.debug&&window.console)console.log('[uploader] '+str);},add:function(file){},upload:function(id,params){var len=this._queue.push(id);var copy={};qq.extend(copy,params);this._params[id]=copy;if(len<=this._options.maxConnections){this._upload(id,this._params[id]);}},cancel:function(id){this._cancel(id);this._dequeue(id);},cancelAll:function(){for(var i=0;i<this._queue.length;i++){this._cancel(this._queue[i]);} this._queue=[];},getName:function(id){},getSize:function(id){},getQueue:function(){return this._queue;},_upload:function(id){},_cancel:function(id){},_dequeue:function(id){var i=qq.indexOf(this._queue,id);this._queue.splice(i,1);var max=this._options.maxConnections;if(this._queue.length>=max&&i<max){var nextId=this._queue[max-1];this._upload(nextId,this._params[nextId]);}}};qq.UploadHandlerForm=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={};};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function(fileInput){fileInput.setAttribute('name','qqfile');var id='qq-upload-handler-iframe'+qq.getUniqueId();this._inputs[id]=fileInput;if(fileInput.parentNode){qq.remove(fileInput);} return id;},getName:function(id){return this._inputs[id].value.replace(/.*(\/|\\)/,"");},_cancel:function(id){this._options.onCancel(id,this.getName(id));delete this._inputs[id];var iframe=document.getElementById(id);if(iframe){iframe.setAttribute('src','javascript:false;');qq.remove(iframe);}},_upload:function(id,params){var input=this._inputs[id];if(!input){throw new Error('file with passed id was not added, or already uploaded or cancelled');} var fileName=this.getName(id);var iframe=this._createIframe(id);var form=this._createForm(iframe,params);form.appendChild(input);var self=this;this._attachLoadEvent(iframe,function(){self.log('iframe loaded');var response=self._getIframeContentJSON(iframe);self._options.onComplete(id,fileName,response);self._dequeue(id);delete self._inputs[id];setTimeout(function(){qq.remove(iframe);},1);});form.submit();qq.remove(form);return id;},_attachLoadEvent:function(iframe,callback){qq.attach(iframe,'load',function(){if(!iframe.parentNode){return;} if(iframe.contentDocument&&iframe.contentDocument.body&&iframe.contentDocument.body.innerHTML=="false"){return;} callback();});},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")");} catch(err){response={};} return response;},_createIframe:function(id){var iframe=qq.toElement('<iframe src="javascript:false;" name="'+id+'" />');iframe.setAttribute('id',id);iframe.style.display='none';document.body.appendChild(iframe);return iframe;},_createForm:function(iframe,params){var form=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');var queryString=qq.obj2url(params,this._options.action);form.setAttribute('action',queryString);form.setAttribute('target',iframe.name);form.style.display='none';document.body.appendChild(form);return form;}});qq.UploadHandlerXhr=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[];};qq.UploadHandlerXhr.isSupported=function(){return false;var input=document.createElement('input');input.type='file';return('multiple'in input&&typeof File!="undefined"&&typeof(new XMLHttpRequest()).upload!="undefined");};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype)qq.extend(qq.UploadHandlerXhr.prototype,{add:function(file){if(!(file instanceof File)){throw new Error('Passed obj in not a File (in qq.UploadHandlerXhr)');} return this._files.push(file)-1;},getName:function(id){var file=this._files[id];return file.fileName!=null?file.fileName:file.name;},getSize:function(id){var file=this._files[id];return file.fileSize!=null?file.fileSize:file.size;},getLoaded:function(id){return this._loaded[id]||0;},_upload:function(id,params){var file=this._files[id],name=this.getName(id),size=this.getSize(id);this._loaded[id]=0;var xhr=this._xhrs[id]=new XMLHttpRequest();var self=this;xhr.upload.onprogress=function(e){if(e.lengthComputable){self._loaded[id]=e.loaded;self._options.onProgress(id,name,e.loaded,e.total);}};xhr.onreadystatechange=function(){if(xhr.readyState==4){self._onComplete(id,xhr);}};params=params||{};params['qqfile']=name;var queryString=qq.obj2url(params,this._options.action);xhr.open("POST",queryString,true);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-File-Name",encodeURIComponent(name));xhr.setRequestHeader("Content-Type","application/octet-stream");xhr.send(file);},_onComplete:function(id,xhr){if(!this._files[id])return;var name=this.getName(id);var size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")");} catch(err){response={};} this._options.onComplete(id,name,response);} else{this._options.onComplete(id,name,{});} this._files[id]=null;this._xhrs[id]=null;this._dequeue(id);},_cancel:function(id){this._options.onCancel(id,this.getName(id));this._files[id]=null;if(this._xhrs[id]){this._xhrs[id].abort();this._xhrs[id]=null;}}});(function($){$.cleditor={defaultOptions:{width:500,height:250,controls:"bold italic underline strikethrough subscript superscript | font size "+"style | color highlight removeformat | bullets numbering | outdent "+"indent | alignleft center alignright justify | undo redo | "+"rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF "+"CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F "+"BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C "+"999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C "+"666 900 C60 C93 990 090 399 33F 60C 939 "+"333 600 930 963 660 060 366 009 339 636 "+"000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,"+"Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:false,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:"",bodyStyle:"margin:4px; font:10pt Arial,Verdana; cursor:text"},buttons:{init:"bold,,|"+"italic,,|"+"underline,,|"+"strikethrough,,|"+"subscript,,|"+"superscript,,|"+"font,,fontname,|"+"size,Font Size,fontsize,|"+"style,,formatblock,|"+"color,Font Color,forecolor,|"+"highlight,Text Highlight Color,hilitecolor,color|"+"removeformat,Remove Formatting,|"+"bullets,,insertunorderedlist|"+"numbering,,insertorderedlist|"+"outdent,,|"+"indent,,|"+"alignleft,Align Text Left,justifyleft|"+"center,,justifycenter|"+"alignright,Align Text Right,justifyright|"+"justify,,justifyfull|"+"undo,,|"+"redo,,|"+"rule,Insert Horizontal Rule,inserthorizontalrule|"+"image,Insert Image,insertimage,url|"+"link,Insert Hyperlink,createlink,url|"+"unlink,Remove Hyperlink,|"+"cut,,|"+"copy,,|"+"paste,,|"+"pastetext,Paste as Text,inserthtml,|"+"print,,|"+"source,Show Source"},imagesPath:function(){return imagesPath();}};$.fn.cleditor=function(options){var $result=$([]);this.each(function(idx,elem){if(elem.tagName=="TEXTAREA"){var data=$.data(elem,CLEDITOR);if(!data)data=new cleditor(elem,options);$result=$result.add(data);}});return $result;};var BACKGROUND_COLOR="backgroundColor",BUTTON="button",BUTTON_NAME="buttonName",CHANGE="change",CLEDITOR="cleditor",CLICK="click",DISABLED="disabled",DIV_TAG="<div>",TRANSPARENT="transparent",UNSELECTABLE="unselectable",MAIN_CLASS="cleditorMain",TOOLBAR_CLASS="cleditorToolbar",GROUP_CLASS="cleditorGroup",BUTTON_CLASS="cleditorButton",DISABLED_CLASS="cleditorDisabled",DIVIDER_CLASS="cleditorDivider",POPUP_CLASS="cleditorPopup",LIST_CLASS="cleditorList",COLOR_CLASS="cleditorColor",PROMPT_CLASS="cleditorPrompt",MSG_CLASS="cleditorMsg",ie=$.browser.msie,ie6=/msie\s6/i.test(navigator.userAgent),iOS=/iphone|ipad|ipod/i.test(navigator.userAgent),popups={},documentClickAssigned,buttons=$.cleditor.buttons;$.each(buttons.init.split("|"),function(idx,button){var items=button.split(","),name=items[0];buttons[name]={stripIndex:idx,name:name,title:items[1]===""?name.charAt(0).toUpperCase()+name.substr(1):items[1],command:items[2]===""?name:items[2],popupName:items[3]===""?name:items[3]};});delete buttons.init;cleditor=function(area,options){var editor=this;editor.options=options=$.extend({},$.cleditor.defaultOptions,options);var $area=editor.$area=$(area).hide().data(CLEDITOR,editor).blur(function(){updateFrame(editor,true);});var $main=editor.$main=$(DIV_TAG).addClass(MAIN_CLASS).width(options.width).height(options.height);var $toolbar=editor.$toolbar=$(DIV_TAG).addClass(TOOLBAR_CLASS).appendTo($main);var $group=$(DIV_TAG).addClass(GROUP_CLASS).appendTo($toolbar);$.each(options.controls.split(" "),function(idx,buttonName){if(buttonName==="")return true;if(buttonName=="|"){var $div=$(DIV_TAG).addClass(DIVIDER_CLASS).appendTo($group);$group=$(DIV_TAG).addClass(GROUP_CLASS).appendTo($toolbar);} else{var button=buttons[buttonName];var $buttonDiv=$(DIV_TAG).data(BUTTON_NAME,button.name).addClass(BUTTON_CLASS).attr("title",button.title).bind(CLICK,$.proxy(buttonClick,editor)).appendTo($group).hover(hoverEnter,hoverLeave);var map={};if(button.css)map=button.css;else if(button.image)map.backgroundImage=imageUrl(button.image);if(button.stripIndex)map.backgroundPosition=button.stripIndex*-24;$buttonDiv.css(map);if(ie)$buttonDiv.attr(UNSELECTABLE,"on");if(button.popupName)createPopup(button.popupName,options,button.popupClass,button.popupContent,button.popupHover);}});$main.insertBefore($area).append($area);if(!documentClickAssigned){$(document).click(function(e){var $target=$(e.target);if(!$target.add($target.parents()).is("."+PROMPT_CLASS))hidePopups();});documentClickAssigned=true;} if(/auto|%/.test(""+options.width+options.height))$(window).resize(function(){refresh(editor);});refresh(editor);};var fn=cleditor.prototype,methods=[["clear",clear],["disable",disable],["execCommand",execCommand],["focus",focus],["hidePopups",hidePopups],["sourceMode",sourceMode,true],["refresh",refresh],["select",select],["selectedHTML",selectedHTML,true],["selectedText",selectedText,true],["showMessage",showMessage],["updateFrame",updateFrame],["updateTextArea",updateTextArea]];$.each(methods,function(idx,method){fn[method[0]]=function(){var editor=this,args=[editor];for(var x=0;x<arguments.length;x++){args.push(arguments[x]);} var result=method[1].apply(editor,args);if(method[2])return result;return editor;};});fn.change=function(handler){var $this=$(this);return handler?$this.bind(CHANGE,handler):$this.trigger(CHANGE);};function buttonClick(e){var editor=this,buttonDiv=e.target,buttonName=$.data(buttonDiv,BUTTON_NAME),button=buttons[buttonName],popupName=button.popupName,popup=popups[popupName];if(editor.disabled||$(buttonDiv).attr(DISABLED)==DISABLED)return;var data={editor:editor,button:buttonDiv,buttonName:buttonName,popup:popup,popupName:popupName,command:button.command,useCSS:editor.options.useCSS};if(button.buttonClick&&button.buttonClick(e,data)===false)return false;if(buttonName=="source"){if(sourceMode(editor)){delete editor.range;editor.$area.hide();editor.$frame.show();buttonDiv.title=button.title;} else{editor.$frame.hide();editor.$area.show();buttonDiv.title="Show Rich Text";} setTimeout(function(){refreshButtons(editor);},100);} else if(!sourceMode(editor)){if(popupName){var $popup=$(popup);if(popupName=="url"){if(buttonName=="link"&&selectedText(editor)===""){showMessage(editor,"A selection is required when inserting a link.",buttonDiv);return false;} $popup.children(":button").unbind(CLICK).bind(CLICK,function(){var $text=$popup.find(":text"),url=$.trim($text.val());if(url!=="")execCommand(editor,data.command,url,null,data.button);$text.val("http://");hidePopups();focus(editor);});} else if(popupName=="pastetext"){$popup.children(":button").unbind(CLICK).bind(CLICK,function(){var $textarea=$popup.find("textarea"),text=$textarea.val().replace(/\n/g,"<br />");if(text!=="")execCommand(editor,data.command,text,null,data.button);$textarea.val("");hidePopups();focus(editor);});} if(buttonDiv!==$.data(popup,BUTTON)){showPopup(editor,popup,buttonDiv);return false;} return;} else if(buttonName=="print")editor.$frame[0].contentWindow.print();else if(!execCommand(editor,data.command,data.value,data.useCSS,buttonDiv))return false;} focus(editor);} function hoverEnter(e){var $div=$(e.target).closest("div");$div.css(BACKGROUND_COLOR,$div.data(BUTTON_NAME)?"#FFF":"#FFC");} function hoverLeave(e){$(e.target).closest("div").css(BACKGROUND_COLOR,"transparent");} function popupClick(e){var editor=this,popup=e.data.popup,target=e.target;if(popup===popups.msg||$(popup).hasClass(PROMPT_CLASS))return;var buttonDiv=$.data(popup,BUTTON),buttonName=$.data(buttonDiv,BUTTON_NAME),button=buttons[buttonName],command=button.command,value,useCSS=editor.options.useCSS;if(buttonName=="font")value=target.style.fontFamily.replace(/"/g,"");else if(buttonName=="size"){if(target.tagName=="DIV")target=target.children[0];value=target.innerHTML;} else if(buttonName=="style")value="<"+target.tagName+">";else if(buttonName=="color")value=hex(target.style.backgroundColor);else if(buttonName=="highlight"){value=hex(target.style.backgroundColor);if(ie)command='backcolor';else useCSS=true;} var data={editor:editor,button:buttonDiv,buttonName:buttonName,popup:popup,popupName:button.popupName,command:command,value:value,useCSS:useCSS};if(button.popupClick&&button.popupClick(e,data)===false)return;if(data.command&&!execCommand(editor,data.command,data.value,data.useCSS,buttonDiv))return false;hidePopups();focus(editor);} function checksum(text){var a=1,b=0;for(var index=0;index<text.length;++index){a=(a+text.charCodeAt(index))%65521;b=(b+a)%65521;} return(b<<16)|a;} function clear(editor){editor.$area.val("");updateFrame(editor);} function createPopup(popupName,options,popupTypeClass,popupContent,popupHover){if(popups[popupName])return popups[popupName];var $popup=$(DIV_TAG).hide().addClass(POPUP_CLASS).appendTo("body");if(popupContent)$popup.html(popupContent);else if(popupName=="color"){var colors=options.colors.split(" ");if(colors.length<10)$popup.width("auto");$.each(colors,function(idx,color){$(DIV_TAG).appendTo($popup).css(BACKGROUND_COLOR,"#"+color);});popupTypeClass=COLOR_CLASS;} else if(popupName=="font")$.each(options.fonts.split(","),function(idx,font){$(DIV_TAG).appendTo($popup).css("fontFamily",font).html(font);});else if(popupName=="size")$.each(options.sizes.split(","),function(idx,size){$(DIV_TAG).appendTo($popup).html("<font size="+size+">"+size+"</font>");});else if(popupName=="style")$.each(options.styles,function(idx,style){$(DIV_TAG).appendTo($popup).html(style[1]+style[0]+style[1].replace("<","</"));});else if(popupName=="url"){$popup.html('Enter URL:<br><input type=text value="http://" size=35><br><input type=button value="Submit">');popupTypeClass=PROMPT_CLASS;} else if(popupName=="pastetext"){$popup.html('Paste your content here and click submit.<br /><textarea cols=40 rows=3></textarea><br /><input type=button value=Submit>');popupTypeClass=PROMPT_CLASS;} if(!popupTypeClass&&!popupContent)popupTypeClass=LIST_CLASS;$popup.addClass(popupTypeClass);if(ie){$popup.attr(UNSELECTABLE,"on").find("div,font,p,h1,h2,h3,h4,h5,h6").attr(UNSELECTABLE,"on");} if($popup.hasClass(LIST_CLASS)||popupHover===true)$popup.children().hover(hoverEnter,hoverLeave);popups[popupName]=$popup[0];return $popup[0];} function disable(editor,disabled){if(disabled){editor.$area.attr(DISABLED,DISABLED);editor.disabled=true;} else{editor.$area.removeAttr(DISABLED);delete editor.disabled;} try{if(ie)editor.doc.body.contentEditable=!disabled;else editor.doc.designMode=!disabled?"on":"off";} catch(err){} refreshButtons(editor);} function execCommand(editor,command,value,useCSS,button){restoreRange(editor);if(!ie){if(useCSS===undefined||useCSS===null)useCSS=editor.options.useCSS;editor.doc.execCommand("styleWithCSS",0,useCSS.toString());} var success=true,description;if(ie&&command.toLowerCase()=="inserthtml")getRange(editor).pasteHTML(value);else{try{success=editor.doc.execCommand(command,0,value||null);} catch(err){description=err.description;success=false;} if(!success){if("cutcopypaste".indexOf(command)>-1)showMessage(editor,"For security reasons, your browser does not support the "+command+" command. Try using the keyboard shortcut or context menu instead.",button);else showMessage(editor,(description?description:"Error executing the "+command+" command."),button);}} refreshButtons(editor);return success;} function focus(editor){setTimeout(function(){if(sourceMode(editor))editor.$area.focus();else editor.$frame[0].contentWindow.focus();refreshButtons(editor);},0);} function getRange(editor){if(ie)return getSelection(editor).createRange();return getSelection(editor).getRangeAt(0);} function getSelection(editor){if(ie)return editor.doc.selection;return editor.$frame[0].contentWindow.getSelection();} function hex(s){var m=/rgba?\((\d+), (\d+), (\d+)/.exec(s),c=s.split("");if(m){s=(m[1]<<16|m[2]<<8|m[3]).toString(16);while(s.length<6)s="0"+s;} return"#"+(s.length==6?s:c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);} function hidePopups(){$.each(popups,function(idx,popup){$(popup).hide().unbind(CLICK).removeData(BUTTON);});} function imagesPath(){var cssFile="jquery.cleditor.css",href=$("link[href$='"+cssFile+"']").attr("href");return href.substr(0,href.length-cssFile.length)+"images/";} function imageUrl(filename){return"url("+imagesPath()+filename+")";} function refresh(editor){var $main=editor.$main,options=editor.options;if(editor.$frame)editor.$frame.remove();var $frame=editor.$frame=$('<iframe frameborder="0" src="javascript:true;">').hide().appendTo($main);var contentWindow=$frame[0].contentWindow,doc=editor.doc=contentWindow.document,$doc=$(doc);doc.open();doc.write(options.docType+'<html>'+((options.docCSSFile==='')?'':'<head><link rel="stylesheet" type="text/css" href="'+options.docCSSFile+'" /></head>')+'<body style="'+options.bodyStyle+'"></body></html>');doc.close();if(ie)$doc.click(function(){focus(editor);});updateFrame(editor);if(ie){$doc.bind("beforedeactivate beforeactivate selectionchange keypress",function(e){if(e.type=="beforedeactivate")editor.inactive=true;else if(e.type=="beforeactivate"){if(!editor.inactive&&editor.range&&editor.range.length>1)editor.range.shift();delete editor.inactive;} else if(!editor.inactive){if(!editor.range)editor.range=[];editor.range.unshift(getRange(editor));while(editor.range.length>2)editor.range.pop();}});$frame.focus(function(){restoreRange(editor);});}($.browser.mozilla?$doc:$(contentWindow)).blur(function(){updateTextArea(editor,true);});$doc.click(hidePopups).bind("keyup mouseup",function(){refreshButtons(editor);});if(iOS)editor.$area.show();else $frame.show();$(function(){var $toolbar=editor.$toolbar,$group=$toolbar.children("div:last"),wid=$main.width();var hgt=$group.offset().top+$group.outerHeight()-$toolbar.offset().top+1;$toolbar.height(hgt);hgt=(/%/.test(""+options.height)?$main.height():parseInt(options.height))-hgt;$frame.width(wid).height(hgt);editor.$area.width(wid).height(ie6?hgt-2:hgt);disable(editor,editor.disabled);refreshButtons(editor);});} function refreshButtons(editor){if(!iOS&&$.browser.webkit&&!editor.focused){editor.$frame[0].contentWindow.focus();window.focus();editor.focused=true;} var queryObj=editor.doc;if(ie)queryObj=getRange(editor);var inSourceMode=sourceMode(editor);$.each(editor.$toolbar.find("."+BUTTON_CLASS),function(idx,elem){var $elem=$(elem),button=$.cleditor.buttons[$.data(elem,BUTTON_NAME)],command=button.command,enabled=true;if(editor.disabled)enabled=false;else if(button.getEnabled){var data={editor:editor,button:elem,buttonName:button.name,popup:popups[button.popupName],popupName:button.popupName,command:button.command,useCSS:editor.options.useCSS};enabled=button.getEnabled(data);if(enabled===undefined)enabled=true;} else if(((inSourceMode||iOS)&&button.name!="source")||(ie&&(command=="undo"||command=="redo")))enabled=false;else if(command&&command!="print"){if(ie&&command=="hilitecolor")command="backcolor";if(!ie||command!="inserthtml"){try{enabled=queryObj.queryCommandEnabled(command);} catch(err){enabled=false;}}} if(enabled){$elem.removeClass(DISABLED_CLASS);$elem.removeAttr(DISABLED);} else{$elem.addClass(DISABLED_CLASS);$elem.attr(DISABLED,DISABLED);}});} function restoreRange(editor){if(ie&&editor.range)editor.range[0].select();} function select(editor){setTimeout(function(){if(sourceMode(editor))editor.$area.select();else execCommand(editor,"selectall");},0);} function selectedHTML(editor){restoreRange(editor);var range=getRange(editor);if(ie)return range.htmlText;var layer=$("<layer>")[0];layer.appendChild(range.cloneContents());var html=layer.innerHTML;layer=null;return html;} function selectedText(editor){restoreRange(editor);if(ie)return getRange(editor).text;return getSelection(editor).toString();} function showMessage(editor,message,button){var popup=createPopup("msg",editor.options,MSG_CLASS);popup.innerHTML=message;showPopup(editor,popup,button);} function showPopup(editor,popup,button){var offset,left,top,$popup=$(popup);if(button){var $button=$(button);offset=$button.offset();left=--offset.left;top=offset.top+$button.height();} else{var $toolbar=editor.$toolbar;offset=$toolbar.offset();left=Math.floor(($toolbar.width()-$popup.width())/2)+offset.left;top=offset.top+$toolbar.height()-2;} hidePopups();$popup.css({left:left,top:top}).show();if(button){$.data(popup,BUTTON,button);$popup.bind(CLICK,{popup:popup},$.proxy(popupClick,editor));} setTimeout(function(){$popup.find(":text,textarea").eq(0).focus().select();},100);} function sourceMode(editor){return editor.$area.is(":visible");} function updateFrame(editor,checkForChange){var code=editor.$area.val(),options=editor.options,updateFrameCallback=options.updateFrame,$body=$(editor.doc.body);if(updateFrameCallback){var sum=checksum(code);if(checkForChange&&editor.areaChecksum==sum)return;editor.areaChecksum=sum;} var html=updateFrameCallback?updateFrameCallback(code):code;html=html.replace(/<(?=\/?script)/ig,"&lt;");if(options.updateTextArea)editor.frameChecksum=checksum(html);if(html!=$body.html()){$body.html(html);$(editor).triggerHandler(CHANGE);}} function updateTextArea(editor,checkForChange){var html=$(editor.doc.body).html(),options=editor.options,updateTextAreaCallback=options.updateTextArea,$area=editor.$area;if(updateTextAreaCallback){var sum=checksum(html);if(checkForChange&&editor.frameChecksum==sum)return;editor.frameChecksum=sum;} var code=updateTextAreaCallback?updateTextAreaCallback(html):html;if(options.updateFrame)editor.areaChecksum=checksum(code);if(code!=$area.val()){$area.val(code);$(editor).triggerHandler(CHANGE);}}})(jQuery);// Script# Core Runtime
// More information at http://projects.nikhilk.net/ScriptSharp
//
(function(){var globals={version:'0.7.4.0',isUndefined:function(o){return(o===undefined);},isNull:function(o){return(o===null);},isNullOrUndefined:function(o){return(o===null)||(o===undefined);},isValue:function(o){return(o!==null)&&(o!==undefined);}};var started=false;var startCallbacks=[];function onStartup(cb){startCallbacks?startCallbacks.push(cb):setTimeout(cb,0);} function startup(){if(startCallbacks){var callbacks=startCallbacks;startCallbacks=null;for(var i=0,l=callbacks.length;i<l;i++){callbacks[i]();}}} if(document.addEventListener){document.readyState=='complete'?startup():document.addEventListener('DOMContentLoaded',startup,false);} else if(window.attachEvent){window.attachEvent('onload',function(){startup();});} var ss=window.ss;if(!ss){window.ss=ss={init:onStartup,ready:onStartup};} for(var n in globals){ss[n]=globals[n];}})();Object.__typeName='Object';Object.__baseType=null;Object.clearKeys=function Object$clearKeys(d){for(var n in d){delete d[n];}}
Object.keyExists=function Object$keyExists(d,key){return d[key]!==undefined;}
if(!Object.keys){Object.keys=function Object$keys(d){var keys=[];for(var n in d){keys.push(n);} return keys;} Object.getKeyCount=function Object$getKeyCount(d){var count=0;for(var n in d){count++;} return count;}}
else{Object.getKeyCount=function Object$getKeyCount(d){return Object.keys(d).length;}}
Boolean.__typeName='Boolean';Boolean.parse=function Boolean$parse(s){return(s.toLowerCase()=='true');}
Number.__typeName='Number';Number.parse=function Number$parse(s){if(!s||!s.length){return 0;} if((s.indexOf('.')>=0)||(s.indexOf('e')>=0)||s.endsWith('f')||s.endsWith('F')){return parseFloat(s);} return parseInt(s,10);}
Number.prototype.format=function Number$format(format){if(ss.isNullOrUndefined(format)||(format.length==0)||(format=='i')){return this.toString();} return this._netFormat(format,false);}
Number.prototype.localeFormat=function Number$format(format){if(ss.isNullOrUndefined(format)||(format.length==0)||(format=='i')){return this.toLocaleString();} return this._netFormat(format,true);}
Number._commaFormat=function Number$_commaFormat(number,groups,decimal,comma){var decimalPart=null;var decimalIndex=number.indexOf(decimal);if(decimalIndex>0){decimalPart=number.substr(decimalIndex);number=number.substr(0,decimalIndex);} var negative=number.startsWith('-');if(negative){number=number.substr(1);} var groupIndex=0;var groupSize=groups[groupIndex];if(number.length<groupSize){return decimalPart?number+decimalPart:number;} var index=number.length;var s='';var done=false;while(!done){var length=groupSize;var startIndex=index-length;if(startIndex<0){groupSize+=startIndex;length+=startIndex;startIndex=0;done=true;} if(!length){break;} var part=number.substr(startIndex,length);if(s.length){s=part+comma+s;} else{s=part;} index-=length;if(groupIndex<groups.length-1){groupIndex++;groupSize=groups[groupIndex];}} if(negative){s='-'+s;} return decimalPart?s+decimalPart:s;}
Number.prototype._netFormat=function Number$_netFormat(format,useLocale){var nf=useLocale?ss.CultureInfo.CurrentCulture.numberFormat:ss.CultureInfo.InvariantCulture.numberFormat;var s='';var precision=-1;if(format.length>1){precision=parseInt(format.substr(1));} var fs=format.charAt(0);switch(fs){case'd':case'D':s=parseInt(Math.abs(this)).toString();if(precision!=-1){s=s.padLeft(precision,'0');} if(this<0){s='-'+s;} break;case'x':case'X':s=parseInt(Math.abs(this)).toString(16);if(fs=='X'){s=s.toUpperCase();} if(precision!=-1){s=s.padLeft(precision,'0');} break;case'e':case'E':if(precision==-1){s=this.toExponential();} else{s=this.toExponential(precision);} if(fs=='E'){s=s.toUpperCase();} break;case'f':case'F':case'n':case'N':if(precision==-1){precision=nf.numberDecimalDigits;} s=this.toFixed(precision).toString();if(precision&&(nf.numberDecimalSeparator!='.')){var index=s.indexOf('.');s=s.substr(0,index)+nf.numberDecimalSeparator+s.substr(index+1);} if((fs=='n')||(fs=='N')){s=Number._commaFormat(s,nf.numberGroupSizes,nf.numberDecimalSeparator,nf.numberGroupSeparator);} break;case'c':case'C':if(precision==-1){precision=nf.currencyDecimalDigits;} s=Math.abs(this).toFixed(precision).toString();if(precision&&(nf.currencyDecimalSeparator!='.')){var index=s.indexOf('.');s=s.substr(0,index)+nf.currencyDecimalSeparator+s.substr(index+1);} s=Number._commaFormat(s,nf.currencyGroupSizes,nf.currencyDecimalSeparator,nf.currencyGroupSeparator);if(this<0){s=String.format(nf.currencyNegativePattern,s);} else{s=String.format(nf.currencyPositivePattern,s);} break;case'p':case'P':if(precision==-1){precision=nf.percentDecimalDigits;} s=(Math.abs(this)*100.0).toFixed(precision).toString();if(precision&&(nf.percentDecimalSeparator!='.')){var index=s.indexOf('.');s=s.substr(0,index)+nf.percentDecimalSeparator+s.substr(index+1);} s=Number._commaFormat(s,nf.percentGroupSizes,nf.percentDecimalSeparator,nf.percentGroupSeparator);if(this<0){s=String.format(nf.percentNegativePattern,s);} else{s=String.format(nf.percentPositivePattern,s);} break;} return s;}
String.__typeName='String';String.Empty='';String.compare=function String$compare(s1,s2,ignoreCase){if(ignoreCase){if(s1){s1=s1.toUpperCase();} if(s2){s2=s2.toUpperCase();}} s1=s1||'';s2=s2||'';if(s1==s2){return 0;} if(s1<s2){return-1;} return 1;}
String.prototype.compareTo=function String$compareTo(s,ignoreCase){return String.compare(this,s,ignoreCase);}
String.concat=function String$concat(){if(arguments.length===2){return arguments[0]+arguments[1];} return Array.prototype.join.call(arguments,'');}
String.prototype.endsWith=function String$endsWith(suffix){if(!suffix.length){return true;} if(suffix.length>this.length){return false;} return(this.substr(this.length-suffix.length)==suffix);}
String.equals=function String$equals1(s1,s2,ignoreCase){return String.compare(s1,s2,ignoreCase)==0;}
String._format=function String$_format(format,values,useLocale){if(!String._formatRE){String._formatRE=/(\{[^\}^\{]+\})/g;} return format.replace(String._formatRE,function(str,m){var index=parseInt(m.substr(1));var value=values[index+1];if(ss.isNullOrUndefined(value)){return'';} if(value.format){var formatSpec=null;var formatIndex=m.indexOf(':');if(formatIndex>0){formatSpec=m.substring(formatIndex+1,m.length-1);} return useLocale?value.localeFormat(formatSpec):value.format(formatSpec);} else{return useLocale?value.toLocaleString():value.toString();}});}
String.format=function String$format(format){return String._format(format,arguments,false);}
String.fromChar=function String$fromChar(ch,count){var s=ch;for(var i=1;i<count;i++){s+=ch;} return s;}
String.prototype.htmlDecode=function String$htmlDecode(){var div=document.createElement('div');div.innerHTML=this;return div.textContent||div.innerText;}
String.prototype.htmlEncode=function String$htmlEncode(){var div=document.createElement('div');div.appendChild(document.createTextNode(this));return div.innerHTML.replace(/\"/g,'&quot;');}
String.prototype.indexOfAny=function String$indexOfAny(chars,startIndex,count){var length=this.length;if(!length){return-1;} startIndex=startIndex||0;count=count||length;var endIndex=startIndex+count-1;if(endIndex>=length){endIndex=length-1;} for(var i=startIndex;i<=endIndex;i++){if(chars.indexOf(this.charAt(i))>=0){return i;}} return-1;}
String.prototype.insert=function String$insert(index,value){if(!value){return this;} if(!index){return value+this;} var s1=this.substr(0,index);var s2=this.substr(index);return s1+value+s2;}
String.isNullOrEmpty=function String$isNullOrEmpty(s){return!s||!s.length;}
String.prototype.lastIndexOfAny=function String$lastIndexOfAny(chars,startIndex,count){var length=this.length;if(!length){return-1;} startIndex=startIndex||length-1;count=count||length;var endIndex=startIndex-count+1;if(endIndex<0){endIndex=0;} for(var i=startIndex;i>=endIndex;i--){if(chars.indexOf(this.charAt(i))>=0){return i;}} return-1;}
String.localeFormat=function String$localeFormat(format){return String._format(format,arguments,true);}
String.prototype.padLeft=function String$padLeft(totalWidth,ch){if(this.length<totalWidth){ch=ch||' ';return String.fromChar(ch,totalWidth-this.length)+this;} return this;}
String.prototype.padRight=function String$padRight(totalWidth,ch){if(this.length<totalWidth){ch=ch||' ';return this+String.fromChar(ch,totalWidth-this.length);} return this;}
String.prototype.remove=function String$remove(index,count){if(!count||((index+count)>this.length)){return this.substr(0,index);} return this.substr(0,index)+this.substr(index+count);}
String.prototype.replaceAll=function String$replaceAll(oldValue,newValue){newValue=newValue||'';return this.split(oldValue).join(newValue);}
String.prototype.startsWith=function String$startsWith(prefix){if(!prefix.length){return true;} if(prefix.length>this.length){return false;} return(this.substr(0,prefix.length)==prefix);}
if(!String.prototype.trim){String.prototype.trim=function String$trim(){return this.trimEnd().trimStart();}}
String.prototype.trimEnd=function String$trimEnd(){return this.replace(/\s*$/,'');}
String.prototype.trimStart=function String$trimStart(){return this.replace(/^\s*/,'');}
Array.__typeName='Array';Array.__interfaces=[ss.IEnumerable];Array.prototype.add=function Array$add(item){this[this.length]=item;}
Array.prototype.addRange=function Array$addRange(items){this.push.apply(this,items);}
Array.prototype.aggregate=function Array$aggregate(seed,callback,instance){var length=this.length;for(var i=0;i<length;i++){if(i in this){seed=callback.call(instance,seed,this[i],i,this);}} return seed;}
Array.prototype.clear=function Array$clear(){this.length=0;}
Array.prototype.clone=function Array$clone(){if(this.length===1){return[this[0]];} else{return Array.apply(null,this);}}
Array.prototype.contains=function Array$contains(item){var index=this.indexOf(item);return(index>=0);}
Array.prototype.dequeue=function Array$dequeue(){return this.shift();}
Array.prototype.enqueue=function Array$enqueue(item){this._queue=true;this.push(item);}
Array.prototype.peek=function Array$peek(){if(this.length){var index=this._queue?0:this.length-1;return this[index];} return null;}
if(!Array.prototype.every){Array.prototype.every=function Array$every(callback,instance){var length=this.length;for(var i=0;i<length;i++){if(i in this&&!callback.call(instance,this[i],i,this)){return false;}} return true;}}
Array.prototype.extract=function Array$extract(index,count){if(!count){return this.slice(index);} return this.slice(index,index+count);}
if(!Array.prototype.filter){Array.prototype.filter=function Array$filter(callback,instance){var length=this.length;var filtered=[];for(var i=0;i<length;i++){if(i in this){var val=this[i];if(callback.call(instance,val,i,this)){filtered.push(val);}}} return filtered;}}
if(!Array.prototype.forEach){Array.prototype.forEach=function Array$forEach(callback,instance){var length=this.length;for(var i=0;i<length;i++){if(i in this){callback.call(instance,this[i],i,this);}}}}
Array.prototype.getEnumerator=function Array$getEnumerator(){return new ss.ArrayEnumerator(this);}
Array.prototype.groupBy=function Array$groupBy(callback,instance){var length=this.length;var groups=[];var keys={};for(var i=0;i<length;i++){if(i in this){var key=callback.call(instance,this[i],i);if(String.isNullOrEmpty(key)){continue;} var items=keys[key];if(!items){items=[];items.key=key;keys[key]=items;groups.add(items);} items.add(this[i]);}} return groups;}
Array.prototype.index=function Array$index(callback,instance){var length=this.length;var items={};for(var i=0;i<length;i++){if(i in this){var key=callback.call(instance,this[i],i);if(String.isNullOrEmpty(key)){continue;} items[key]=this[i];}} return items;}
if(!Array.prototype.indexOf){Array.prototype.indexOf=function Array$indexOf(item,startIndex){startIndex=startIndex||0;var length=this.length;if(length){for(var index=startIndex;index<length;index++){if(this[index]===item){return index;}}} return-1;}}
Array.prototype.insert=function Array$insert(index,item){this.splice(index,0,item);}
Array.prototype.insertRange=function Array$insertRange(index,items){if(index===0){this.unshift.apply(this,items);} else{for(var i=0;i<items.length;i++){this.splice(index+i,0,items[i]);}}}
if(!Array.prototype.map){Array.prototype.map=function Array$map(callback,instance){var length=this.length;var mapped=new Array(length);for(var i=0;i<length;i++){if(i in this){mapped[i]=callback.call(instance,this[i],i,this);}} return mapped;}}
Array.parse=function Array$parse(s){return eval('('+s+')');}
Array.prototype.remove=function Array$remove(item){var index=this.indexOf(item);if(index>=0){this.splice(index,1);return true;} return false;}
Array.prototype.removeAt=function Array$removeAt(index){this.splice(index,1);}
Array.prototype.removeRange=function Array$removeRange(index,count){return this.splice(index,count);}
if(!Array.prototype.some){Array.prototype.some=function Array$some(callback,instance){var length=this.length;for(var i=0;i<length;i++){if(i in this&&callback.call(instance,this[i],i,this)){return true;}} return false;}}
Array.toArray=function Array$toArray(obj){return Array.prototype.slice.call(obj);}
RegExp.__typeName='RegExp';RegExp.parse=function RegExp$parse(s){if(s.startsWith('/')){var endSlashIndex=s.lastIndexOf('/');if(endSlashIndex>1){var expression=s.substring(1,endSlashIndex);var flags=s.substr(endSlashIndex+1);return new RegExp(expression,flags);}} return null;}
Date.__typeName='Date';Date.empty=null;Date.get_now=function Date$get_now(){return new Date();}
Date.get_today=function Date$get_today(){var d=new Date();return new Date(d.getFullYear(),d.getMonth(),d.getDate());}
Date.isEmpty=function Date$isEmpty(d){return(d===null)||(d.valueOf()===0);}
Date.prototype.format=function Date$format(format){if(ss.isNullOrUndefined(format)||(format.length==0)||(format=='i')){return this.toString();} if(format=='id'){return this.toDateString();} if(format=='it'){return this.toTimeString();} return this._netFormat(format,false);}
Date.prototype.localeFormat=function Date$localeFormat(format){if(ss.isNullOrUndefined(format)||(format.length==0)||(format=='i')){return this.toLocaleString();} if(format=='id'){return this.toLocaleDateString();} if(format=='it'){return this.toLocaleTimeString();} return this._netFormat(format,true);}
Date.prototype._netFormat=function Date$_netFormat(format,useLocale){var dt=this;var dtf=useLocale?ss.CultureInfo.CurrentCulture.dateFormat:ss.CultureInfo.InvariantCulture.dateFormat;if(format.length==1){switch(format){case'f':format=dtf.longDatePattern+' '+dtf.shortTimePattern;break;case'F':format=dtf.dateTimePattern;break;case'd':format=dtf.shortDatePattern;break;case'D':format=dtf.longDatePattern;break;case't':format=dtf.shortTimePattern;break;case'T':format=dtf.longTimePattern;break;case'g':format=dtf.shortDatePattern+' '+dtf.shortTimePattern;break;case'G':format=dtf.shortDatePattern+' '+dtf.longTimePattern;break;case'R':case'r':dtf=ss.CultureInfo.InvariantCulture.dateFormat;format=dtf.gmtDateTimePattern;break;case'u':format=dtf.universalDateTimePattern;break;case'U':format=dtf.dateTimePattern;dt=new Date(dt.getUTCFullYear(),dt.getUTCMonth(),dt.getUTCDate(),dt.getUTCHours(),dt.getUTCMinutes(),dt.getUTCSeconds(),dt.getUTCMilliseconds());break;case's':format=dtf.sortableDateTimePattern;break;}} if(format.charAt(0)=='%'){format=format.substr(1);} if(!Date._formatRE){Date._formatRE=/'.*?[^\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z/g;} var re=Date._formatRE;var sb=new ss.StringBuilder();re.lastIndex=0;while(true){var index=re.lastIndex;var match=re.exec(format);sb.append(format.slice(index,match?match.index:format.length));if(!match){break;} var fs=match[0];var part=fs;switch(fs){case'dddd':part=dtf.dayNames[dt.getDay()];break;case'ddd':part=dtf.shortDayNames[dt.getDay()];break;case'dd':part=dt.getDate().toString().padLeft(2,'0');break;case'd':part=dt.getDate();break;case'MMMM':part=dtf.monthNames[dt.getMonth()];break;case'MMM':part=dtf.shortMonthNames[dt.getMonth()];break;case'MM':part=(dt.getMonth()+1).toString().padLeft(2,'0');break;case'M':part=(dt.getMonth()+1);break;case'yyyy':part=dt.getFullYear();break;case'yy':part=(dt.getFullYear()%100).toString().padLeft(2,'0');break;case'y':part=(dt.getFullYear()%100);break;case'h':case'hh':part=dt.getHours()%12;if(!part){part='12';} else if(fs=='hh'){part=part.toString().padLeft(2,'0');} break;case'HH':part=dt.getHours().toString().padLeft(2,'0');break;case'H':part=dt.getHours();break;case'mm':part=dt.getMinutes().toString().padLeft(2,'0');break;case'm':part=dt.getMinutes();break;case'ss':part=dt.getSeconds().toString().padLeft(2,'0');break;case's':part=dt.getSeconds();break;case't':case'tt':part=(dt.getHours()<12)?dtf.amDesignator:dtf.pmDesignator;if(fs=='t'){part=part.charAt(0);} break;case'fff':part=dt.getMilliseconds().toString().padLeft(3,'0');break;case'ff':part=dt.getMilliseconds().toString().padLeft(3).substr(0,2);break;case'f':part=dt.getMilliseconds().toString().padLeft(3).charAt(0);break;case'z':part=dt.getTimezoneOffset()/60;part=((part>=0)?'-':'+')+Math.floor(Math.abs(part));break;case'zz':case'zzz':part=dt.getTimezoneOffset()/60;part=((part>=0)?'-':'+')+Math.floor(Math.abs(part)).toString().padLeft(2,'0');if(fs=='zzz'){part+=dtf.timeSeparator+Math.abs(dt.getTimezoneOffset()%60).toString().padLeft(2,'0');} break;default:if(part.charAt(0)=='\''){part=part.substr(1,part.length-2).replace(/\\'/g,'\'');} break;} sb.append(part);} return sb.toString();}
Date.parseDate=function Date$parse(s){return new Date(Date.parse(s));}
Error.__typeName='Error';Error.prototype.popStackFrame=function Error$popStackFrame(){if(ss.isNullOrUndefined(this.stack)||ss.isNullOrUndefined(this.fileName)||ss.isNullOrUndefined(this.lineNumber)){return;} var stackFrames=this.stack.split('\n');var currentFrame=stackFrames[0];var pattern=this.fileName+':'+this.lineNumber;while(!ss.isNullOrUndefined(currentFrame)&&currentFrame.indexOf(pattern)===-1){stackFrames.shift();currentFrame=stackFrames[0];} var nextFrame=stackFrames[1];if(isNullOrUndefined(nextFrame)){return;} var nextFrameParts=nextFrame.match(/@(.*):(\d+)$/);if(ss.isNullOrUndefined(nextFrameParts)){return;} stackFrames.shift();this.stack=stackFrames.join("\n");this.fileName=nextFrameParts[1];this.lineNumber=parseInt(nextFrameParts[2]);}
Error.createError=function Error$createError(message,errorInfo,innerException){var e=new Error(message);if(errorInfo){for(var v in errorInfo){e[v]=errorInfo[v];}} if(innerException){e.innerException=innerException;} e.popStackFrame();return e;}
ss.Debug=window.Debug||function(){};ss.Debug.__typeName='Debug';if(!ss.Debug.writeln){ss.Debug.writeln=function Debug$writeln(text){if(window.console){if(window.console.debug){window.console.debug(text);return;} else if(window.console.log){window.console.log(text);return;}} else if(window.opera&&window.opera.postError){window.opera.postError(text);return;}}}
ss.Debug._fail=function Debug$_fail(message){ss.Debug.writeln(message);eval('debugger;');}
ss.Debug.assert=function Debug$assert(condition,message){if(!condition){message='Assert failed: '+message;if(confirm(message+'\r\n\r\nBreak into debugger?')){ss.Debug._fail(message);}}}
ss.Debug.fail=function Debug$fail(message){ss.Debug._fail(message);}
window.Type=Function;Type.__typeName='Type';window.__Namespace=function(name){this.__typeName=name;}
__Namespace.prototype={__namespace:true,getName:function(){return this.__typeName;}}
Type.registerNamespace=function Type$registerNamespace(name){if(!window.__namespaces){window.__namespaces={};} if(!window.__rootNamespaces){window.__rootNamespaces=[];} if(window.__namespaces[name]){return;} var ns=window;var nameParts=name.split('.');for(var i=0;i<nameParts.length;i++){var part=nameParts[i];var nso=ns[part];if(!nso){ns[part]=nso=new __Namespace(nameParts.slice(0,i+1).join('.'));if(i==0){window.__rootNamespaces.add(nso);}} ns=nso;} window.__namespaces[name]=ns;}
Type.prototype.registerClass=function Type$registerClass(name,baseType,interfaceType){this.prototype.constructor=this;this.__typeName=name;this.__class=true;this.__baseType=baseType||Object;if(baseType){this.__basePrototypePending=true;} if(interfaceType){this.__interfaces=[];for(var i=2;i<arguments.length;i++){interfaceType=arguments[i];this.__interfaces.add(interfaceType);}}}
Type.prototype.registerInterface=function Type$createInterface(name){this.__typeName=name;this.__interface=true;}
Type.prototype.registerEnum=function Type$createEnum(name,flags){for(var field in this.prototype){this[field]=this.prototype[field];} this.__typeName=name;this.__enum=true;if(flags){this.__flags=true;}}
Type.prototype.setupBase=function Type$setupBase(){if(this.__basePrototypePending){var baseType=this.__baseType;if(baseType.__basePrototypePending){baseType.setupBase();} for(var memberName in baseType.prototype){var memberValue=baseType.prototype[memberName];if(!this.prototype[memberName]){this.prototype[memberName]=memberValue;}} delete this.__basePrototypePending;}}
if(!Type.prototype.resolveInheritance){Type.prototype.resolveInheritance=Type.prototype.setupBase;}
Type.prototype.initializeBase=function Type$initializeBase(instance,args){if(this.__basePrototypePending){this.setupBase();} if(!args){this.__baseType.apply(instance);} else{this.__baseType.apply(instance,args);}}
Type.prototype.callBaseMethod=function Type$callBaseMethod(instance,name,args){var baseMethod=this.__baseType.prototype[name];if(!args){return baseMethod.apply(instance);} else{return baseMethod.apply(instance,args);}}
Type.prototype.get_baseType=function Type$get_baseType(){return this.__baseType||null;}
Type.prototype.get_fullName=function Type$get_fullName(){return this.__typeName;}
Type.prototype.get_name=function Type$get_name(){var fullName=this.__typeName;var nsIndex=fullName.lastIndexOf('.');if(nsIndex>0){return fullName.substr(nsIndex+1);} return fullName;}
Type.prototype.getInterfaces=function Type$getInterfaces(){return this.__interfaces;}
Type.prototype.isInstanceOfType=function Type$isInstanceOfType(instance){if(ss.isNullOrUndefined(instance)){return false;} if((this==Object)||(instance instanceof this)){return true;} var type=Type.getInstanceType(instance);return this.isAssignableFrom(type);}
Type.prototype.isAssignableFrom=function Type$isAssignableFrom(type){if((this==Object)||(this==type)){return true;} if(this.__class){var baseType=type.__baseType;while(baseType){if(this==baseType){return true;} baseType=baseType.__baseType;}} else if(this.__interface){var interfaces=type.__interfaces;if(interfaces&&interfaces.contains(this)){return true;} var baseType=type.__baseType;while(baseType){interfaces=baseType.__interfaces;if(interfaces&&interfaces.contains(this)){return true;} baseType=baseType.__baseType;}} return false;}
Type.isClass=function Type$isClass(type){return(type.__class==true);}
Type.isEnum=function Type$isEnum(type){return(type.__enum==true);}
Type.isFlags=function Type$isFlags(type){return((type.__enum==true)&&(type.__flags==true));}
Type.isInterface=function Type$isInterface(type){return(type.__interface==true);}
Type.isNamespace=function Type$isNamespace(object){return(object.__namespace==true);}
Type.canCast=function Type$canCast(instance,type){return type.isInstanceOfType(instance);}
Type.safeCast=function Type$safeCast(instance,type){if(type.isInstanceOfType(instance)){return instance;} return null;}
Type.getInstanceType=function Type$getInstanceType(instance){var ctor=null;try{ctor=instance.constructor;} catch(ex){} if(!ctor||!ctor.__typeName){ctor=Object;} return ctor;}
Type.getType=function Type$getType(typeName){if(!typeName){return null;} if(!Type.__typeCache){Type.__typeCache={};} var type=Type.__typeCache[typeName];if(!type){type=eval(typeName);Type.__typeCache[typeName]=type;} return type;}
Type.parse=function Type$parse(typeName){return Type.getType(typeName);}
ss.Delegate=function Delegate$(){}
ss.Delegate.registerClass('Delegate');ss.Delegate.empty=function(){}
ss.Delegate._contains=function Delegate$_contains(targets,object,method){for(var i=0;i<targets.length;i+=2){if(targets[i]===object&&targets[i+1]===method){return true;}} return false;}
ss.Delegate._create=function Delegate$_create(targets){var delegate=function(){if(targets.length==2){return targets[1].apply(targets[0],arguments);} else{var clone=targets.clone();for(var i=0;i<clone.length;i+=2){if(ss.Delegate._contains(targets,clone[i],clone[i+1])){clone[i+1].apply(clone[i],arguments);}} return null;}};delegate._targets=targets;return delegate;}
ss.Delegate.create=function Delegate$create(object,method){if(!object){return method;} return ss.Delegate._create([object,method]);}
ss.Delegate.combine=function Delegate$combine(delegate1,delegate2){if(!delegate1){if(!delegate2._targets){return ss.Delegate.create(null,delegate2);} return delegate2;} if(!delegate2){if(!delegate1._targets){return ss.Delegate.create(null,delegate1);} return delegate1;} var targets1=delegate1._targets?delegate1._targets:[null,delegate1];var targets2=delegate2._targets?delegate2._targets:[null,delegate2];return ss.Delegate._create(targets1.concat(targets2));}
ss.Delegate.remove=function Delegate$remove(delegate1,delegate2){if(!delegate1||(delegate1===delegate2)){return null;} if(!delegate2){return delegate1;} var targets=delegate1._targets;var object=null;var method;if(delegate2._targets){object=delegate2._targets[0];method=delegate2._targets[1];} else{method=delegate2;} for(var i=0;i<targets.length;i+=2){if((targets[i]===object)&&(targets[i+1]===method)){if(targets.length==2){return null;} targets.splice(i,2);return ss.Delegate._create(targets);}} return delegate1;}
ss.Delegate.createExport=function Delegate$createExport(delegate,multiUse,name){name=name||'__'+(new Date()).valueOf();window[name]=multiUse?delegate:function(){try{delete window[name];} catch(e){window[name]=undefined;} delegate.apply(null,arguments);};return name;}
ss.Delegate.deleteExport=function Delegate$deleteExport(name){delete window[name];}
ss.Delegate.clearExport=function Delegate$clearExport(name){window[name]=ss.Delegate.empty;}
ss.CultureInfo=function CultureInfo$(name,numberFormat,dateFormat){this.name=name;this.numberFormat=numberFormat;this.dateFormat=dateFormat;}
ss.CultureInfo.registerClass('CultureInfo');ss.CultureInfo.InvariantCulture=new ss.CultureInfo('en-US',{naNSymbol:'NaN',negativeSign:'-',positiveSign:'+',negativeInfinityText:'-Infinity',positiveInfinityText:'Infinity',percentSymbol:'%',percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:'.',percentGroupSeparator:',',percentPositivePattern:'{0} %',percentNegativePattern:'-{0} %',currencySymbol:'$',currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:'.',currencyGroupSeparator:',',currencyNegativePattern:'(${0})',currencyPositivePattern:'${0}',numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:'.',numberGroupSeparator:','},{amDesignator:'AM',pmDesignator:'PM',dateSeparator:'/',timeSeparator:':',gmtDateTimePattern:'ddd, dd MMM yyyy HH:mm:ss \'GMT\'',universalDateTimePattern:'yyyy-MM-dd HH:mm:ssZ',sortableDateTimePattern:'yyyy-MM-ddTHH:mm:ss',dateTimePattern:'dddd, MMMM dd, yyyy h:mm:ss tt',longDatePattern:'dddd, MMMM dd, yyyy',shortDatePattern:'M/d/yyyy',longTimePattern:'h:mm:ss tt',shortTimePattern:'h:mm tt',firstDayOfWeek:0,dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],shortDayNames:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],minimizedDayNames:['Su','Mo','Tu','We','Th','Fr','Sa'],monthNames:['January','February','March','April','May','June','July','August','September','October','November','December',''],shortMonthNames:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','']});ss.CultureInfo.CurrentCulture=ss.CultureInfo.InvariantCulture;ss.IEnumerator=function IEnumerator$(){};ss.IEnumerator.prototype={get_current:null,moveNext:null,reset:null}
ss.IEnumerator.getEnumerator=function ss_IEnumerator$getEnumerator(enumerable){if(enumerable){return enumerable.getEnumerator?enumerable.getEnumerator():new ss.ArrayEnumerator(enumerable);} return null;}
ss.IEnumerator.registerInterface('IEnumerator');ss.IEnumerable=function IEnumerable$(){};ss.IEnumerable.prototype={getEnumerator:null}
ss.IEnumerable.registerInterface('IEnumerable');ss.ArrayEnumerator=function ArrayEnumerator$(array){this._array=array;this._index=-1;this.current=null;}
ss.ArrayEnumerator.prototype={moveNext:function ArrayEnumerator$moveNext(){this._index++;this.current=this._array[this._index];return(this._index<this._array.length);},reset:function ArrayEnumerator$reset(){this._index=-1;this.current=null;}}
ss.ArrayEnumerator.registerClass('ArrayEnumerator',null,ss.IEnumerator);ss.IDisposable=function IDisposable$(){};ss.IDisposable.prototype={dispose:null}
ss.IDisposable.registerInterface('IDisposable');ss.StringBuilder=function StringBuilder$(s){this._parts=!ss.isNullOrUndefined(s)?[s]:[];this.isEmpty=this._parts.length==0;}
ss.StringBuilder.prototype={append:function StringBuilder$append(s){if(!ss.isNullOrUndefined(s)){this._parts.add(s);this.isEmpty=false;} return this;},appendLine:function StringBuilder$appendLine(s){this.append(s);this.append('\r\n');this.isEmpty=false;return this;},clear:function StringBuilder$clear(){this._parts=[];this.isEmpty=true;},toString:function StringBuilder$toString(s){return this._parts.join(s||'');}};ss.StringBuilder.registerClass('StringBuilder');ss.EventArgs=function EventArgs$(){}
ss.EventArgs.registerClass('EventArgs');ss.EventArgs.Empty=new ss.EventArgs();if(!window.XMLHttpRequest){window.XMLHttpRequest=function(){var progIDs=['Msxml2.XMLHTTP','Microsoft.XMLHTTP'];for(var i=0;i<progIDs.length;i++){try{var xmlHttp=new ActiveXObject(progIDs[i]);return xmlHttp;} catch(ex){}} return null;}}
ss.parseXml=function(markup){try{if(DOMParser){var domParser=new DOMParser();return domParser.parseFromString(markup,'text/xml');} else{var progIDs=['Msxml2.DOMDocument.3.0','Msxml2.DOMDocument'];for(var i=0;i<progIDs.length;i++){var xmlDOM=new ActiveXObject(progIDs[i]);xmlDOM.async=false;xmlDOM.loadXML(markup);xmlDOM.setProperty('SelectionLanguage','XPath');return xmlDOM;}}} catch(ex){} return null;}
ss.CancelEventArgs=function CancelEventArgs$(){ss.CancelEventArgs.initializeBase(this);this.cancel=false;}
ss.CancelEventArgs.registerClass('CancelEventArgs',ss.EventArgs);ss.Tuple=function(first,second,third){this.first=first;this.second=second;if(arguments.length==3){this.third=third;}}
ss.Tuple.registerClass('Tuple');ss.Observable=function(v){this._v=v;this._observers=null;}
ss.Observable.prototype={getValue:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._v;},setValue:function(v){if(this._v!==v){this._v=v;var observers=this._observers;if(observers){this._observers=null;ss.Observable._invalidateObservers(observers);}}}};ss.Observable._observerStack=[];ss.Observable._observerRegistration={dispose:function(){ss.Observable._observerStack.pop();}}
ss.Observable.registerObserver=function(o){ss.Observable._observerStack.push(o);return ss.Observable._observerRegistration;}
ss.Observable._captureObservers=function(observers){var registeredObservers=ss.Observable._observerStack;var observerCount=registeredObservers.length;if(observerCount){observers=observers||[];for(var i=0;i<observerCount;i++){var observer=registeredObservers[i];if(!observers.contains(observer)){observers.push(observer);}} return observers;} return null;}
ss.Observable._invalidateObservers=function(observers){for(var i=0,len=observers.length;i<len;i++){observers[i].invalidateObserver();}}
ss.Observable.registerClass('Observable');ss.ObservableCollection=function(items){this._items=items||[];this._observers=null;}
ss.ObservableCollection.prototype={get_item:function(index){this._observers=ss.Observable._captureObservers(this._observers);return this._items[index];},set_item:function(index,item){this._items[index]=item;this._updated();},get_length:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._items.length;},add:function(item){this._items.push(item);this._updated();},clear:function(){this._items.clear();this._updated();},contains:function(item){return this._items.contains(item);},getEnumerator:function(){this._observers=ss.Observable._captureObservers(this._observers);return this._items.getEnumerator();},indexOf:function(item){return this._items.indexOf(item);},insert:function(index,item){this._items.insert(index,item);this._updated();},remove:function(item){if(this._items.remove(item)){this._updated();return true;} return false;},removeAt:function(index){this._items.removeAt(index);this._updated();},toArray:function(){return this._items;},_updated:function(){var observers=this._observers;if(observers){this._observers=null;ss.Observable._invalidateObservers(observers);}}}
ss.ObservableCollection.registerClass('ObservableCollection',null,ss.IEnumerable);ss.IApplication=function(){};ss.IApplication.registerInterface('IApplication');ss.IContainer=function(){};ss.IContainer.registerInterface('IContainer');ss.IObjectFactory=function(){};ss.IObjectFactory.registerInterface('IObjectFactory');ss.IEventManager=function(){};ss.IEventManager.registerInterface('IEventManager');ss.IInitializable=function(){};ss.IInitializable.registerInterface('IInitializable');var CubicSpline;CubicSpline=function(){function p(f,d,e,k){var h,j,b,l,i,a,g,c,m,o,n;if(f!=null&&d!=null){b=e!=null&&k!=null;c=f.length-1;i=[];o=[];g=[];m=[];n=[];j=[];h=[];l=[];for(a=0;0<=c?a<c:a>c;0<=c?a+=1:a-=1)i[a]=f[a+1]-f[a];if(b){o[0]=3*(d[1]-d[0])/i[0]-3*e;o[c]=3*k-3*(d[c]-d[c-1])/i[c-1]} for(a=1;1<=c?a<c:a>c;1<=c?a+=1:a-=1)o[a]=3/i[a]*(d[a+1]-d[a])-3/i[a-1]*(d[a]-d[a-1]);if(b){g[0]=2*i[0];m[0]=0.5;n[0]=o[0]/g[0]} else{g[0]=1;m[0]=0;n[0]=0} for(a=1;1<=c?a<c:a>c;1<=c?a+=1:a-=1){g[a]=2*(f[a+1]-f[a-1])-i[a-1]*m[a-1];m[a]=i[a]/g[a];n[a]=(o[a]-i[a-1]*n[a-1])/g[a]} if(b){g[c]=i[c-1]*(2-m[c-1]);n[c]=(o[c]-i[c-1]*n[c-1])/g[c];j[c]=n[c]} else{g[c]=1;n[c]=0;j[c]=0} for(a=e=c-1;e<=0?a<=0:a>=0;e<=0?a+=1:a-=1){j[a]=n[a]-m[a]*j[a+1];h[a]=(d[a+1]-d[a])/i[a]-i[a]*(j[a+1]+2*j[a])/3;l[a]=(j[a+1]-j[a])/(3*i[a])} this.x=f.slice(0,c+1);this.a=d.slice(0,c);this.b=h;this.c=j.slice(0,c);this.d=l}} p.prototype.derivative=function(){var f,d,e,k,h;d=new this.constructor;d.x=this.x.slice(0,this.x.length);d.a=this.b.slice(0,this.b.length);h=this.c;e=0;for(k=h.length;e<k;e++){f=h[e];d.b=2*f} h=this.d;e=0;for(k=h.length;e<k;e++){f=h[e];d.c=3*f} f=0;for(e=this.d.length;0<=e?f<e:f>e;0<=e?f+=1:f-=1)d.d=0;return d};p.prototype.interpolate=function(f){var d,e;for(d=e=this.x.length-1;e<=0?d<=0:d>=0;e<=0?d+=1:d-=1)if(this.x[d]<=f)break;f=f-this.x[d];return this.a[d]+this.b[d]*f+this.c[d]*Math.pow(f,2)+this.d[d]*Math.pow(f,3)};return p}();// QuizzMakerScript.js
(function($){
window.Advice=function(){}
Advice.$4=function($p0){var $0=$($p0).find('.advice > ul');$0.html('');$(Advice.$1).appendTo($0);for(var $1=0;$1<Advice.$0.length;$1++){$(String.format(Advice.$3,$1+1)).appendTo($0).find('.question-main').html(Advice.$0[$1]);}$(Advice.$2).appendTo($0);}
window.Basic=function(){}
Basic.$5=function($p0,$p1){var $0=$($p0);var $1=$0.find('.basic > ul');$1.html('');for(var $3=0;$3<Basic.$2.length;$3++){$(String.format(Basic.$3,Basic.$1[$3])).appendTo($1).find('.question-main').html(Basic.$2[$3]);}var $2=$0.find('.test-category');$2.html('<option value="">- Choose -</option>');var $dict1=Basic.$0;for(var $key2 in $dict1){var $4={key:$key2,value:$dict1[$key2]};$(String.format('<option value="{0}">{0}</option>',$4.key)).appendTo($2);}Basic.initUploadPicture();Basic.lastVariableIndexId=1;if($p1!=null){if($p1.description==null){$p1.description='Find out if you can survive when the zombies attack.';}var $5=$0.find('.basic>ul>li');$($5[0]).find('.question-main>p.question-question').html($p1.description);$($5[1]).find('.question-main>select').val($p1.maturity);$($5[2]).find('.question-main>p>select.test-category').val($p1.category).trigger('onchange');$($5[2]).find('.question-main>p>select.test-subcategory').val($p1.subCategory);if($p1.thumnailUrl!=null&&!!$p1.thumnailUrl){$($5[4]).find('.question-main>div.image-container>img').attr('src',$p1.thumnailUrl).css('display','block');}$($5[3]).find('.question-main>ul>li.variable').remove();var $6=$($5[3]).find('.question-main>ul>li>a.add').get(0);if($p1.variables==null){$p1.variables=[];}if(!$p1.variables.length){$p1.variables.add('Pure');}for(var $7=0;$7<$p1.variables.length;$7++){Basic.addVariable($6,$p1.variables[$7]);}Basic.lastVariableIndexId=$p1.variables.length+1;}}
Basic.updateTestRating=function(ele){var $0=ele.selectedIndex;if($0<0||$0>3){$0=0;}$(ele).parent().children('span').each(function($p1_0,$p1_1){
$p1_1.style.display=($p1_0===$0)?'inline':'none';});}
Basic.updateTestCategory=function(ele){var $0='';if(ele.selectedIndex>=0){$0=(ele.options[ele.selectedIndex]).value;}var $1=$('.question-main').has(ele).find('.test-subcategory');$1.html('<option value="">- Choose -</option>');var $2=Basic.$0[$0];if($2!=null&&$2.length>0){for(var $3=0;$3<$2.length;$3++){$(String.format('<option value="{0}">{0}</option>',$2[$3])).appendTo($1);}$(ele).nextAll().css('display','inline');}else{$(ele).nextAll().css('display','none');}}
Basic.updateTestSubcategory=function(ele){}
Basic.initUploadPicture=function(){var $0=$('.basic li.question').has('.fileupload');var $1={element:$0.find('.question-main .fileupload').get(0),action:'/img/uploadtest',allowedExtensions:['jpg','jpeg','png','gif'],sizeLimit:5000000,onComplete:function($p1_0,$p1_1,$p1_2){
if(!ss.isNullOrUndefined($p1_2['error'])){alert($p1_2['error']);}else if(!ss.isNullOrUndefined($p1_2['success'])){$0.find('img').css('display','block').prop('src',$p1_2['path']);}else{alert('Failed to upload file by unknown error');}$0.find('.qq-upload-list').css('display','none');$0.find('.imgname').html($0.find('.qq-upload-list li .qq-upload-file').html()+'<br />');},onSubmit:function($p1_0,$p1_1,$p1_2){
$0.find('.qq-upload-list li').remove();$0.find('.qq-upload-list').css('display','block');}};var $2=new qq.FileUploader(option);}
Basic.$6=function(){var $0='Variable_'+Basic.lastVariableIndexId.toString();Basic.lastVariableIndexId++;return $0;}
Basic.removeVariable=function(ele){var $0=$('.variable').has(ele);var $1=$0.index();var $2=$0.find('input').attr('varname');Score.basic_RemoveVariable($2);if($0.parent().children().length>2){$0.remove();}}
Basic.addVariable=function(ele,variable){if($('.variable-listing').has(ele).children().length<11){var $0=variable;if($0==null){$0=Basic.$6();}$(Basic.$4).insertBefore(ele.parentNode).find('input:text').val($0).attr('varname',$0);Score.basic_AddVariable($0);}}
Basic.renameVariable=function(ele){var $0=$('.variable').has(ele);var $1=ele.getAttribute('varname');var $2=ele.value.trim();if($1===$2){ele.value=$1;return;}if(!$2){alert("Your variables can't have an empty name! Please try again");ele.value=$1;return;}if(TestEditor.$1C.test($2)){alert('Your variables should have just letters, numbers, and undercores in their name.');ele.value=$1;return;}var $3=false;$('.variable-listing').has(ele).find('li.variable input:text').each(function($p1_0,$p1_1){
if($p1_1!==ele&&($p1_1).value===$2){$3=true;}});if($3){alert('You already have a variable named '+$2+'. Please choose another name!');ele.focus();ele.value=$1;return;}$('.testpage').has(ele).find('.questions .answers .answer-pure ul li label').each(function($p1_0,$p1_1){
if($p1_1.innerHTML.replaceAll('&nbsp;','').trim()===$1){$p1_1.innerHTML=$2;}});ele.setAttribute('varname',$2);Score.basic_ChangeVarname($1,$2);var $4=$0.index();}
Basic.movePosition=function(){}
Basic.getVariables=function(ele){var $0={};var $1=$('.testpage').has(ele).find('.basic .variable-listing li.variable input:text').each(function($p1_0,$p1_1){
var $1_0=($p1_1).value.trim();if(!ss.isNullOrUndefined($0[$1_0])){$0[$1_0]=0;}else{$0[$1_0]=0;}});return $0;}
window.Score=function(){}
Score.$5=function($p0,$p1){var $0=$($p0);var $1=$0.find('.score');$1.html(Score.$0);var $2=null;var $3=$0.find(".score a[onclick='Score.addResultType(this);']").get(0);if($p1==null||$p1.scoreItems==null||!$p1.scoreItems.length){Score.addResultType($3,null);}else{for(var $4=$p1.scoreItems.length-1;$4>=0;$4--){Score.addResultType($3,$p1.scoreItems[$4]);}}if($p1!=null&&$p1.scaling==='raw'){$0.find('.score .scalingtype>div>p>a').first().click();}Score.initiVarRange();}
Score.useScore=function(ele){var $0=$(ele).parent().find('a');if($0.first().get(0)===ele){$0.first().addClass('disactivebtn').removeClass('activebtn');$0.last().addClass('activebtn').removeClass('disactivebtn');}else{$0.first().addClass('activebtn').removeClass('disactivebtn');$0.last().addClass('disactivebtn').removeClass('activebtn');}$("select[onchange='Score.reqConditionChange(this);']").each(function($p1_0,$p1_1){
Score.reqConditionChange($p1_1);});}
Score.addRequirement=function(ele,req){var $0=$('.level1>div>ul').has(ele);$0.find('li').first().css('display','none');$0.find('li').last().css('display','block');var $1=$(Score.$4).insertBefore($0.find('li').last());Score.$6($1.get(0),req);}
Score.removeRequirement=function(ele){$(ele).parent().remove();}
Score.enterEditInput=function(ele){$(ele).removeClass('viewmode').addClass('editmode');$(ele).parent().parent().find('.caution').parent().css('display','block');}
Score.leaveEditInput=function(ele){$(ele).parent().css('display','none');$(ele).parent().parent().find('input').removeClass('editmode').addClass('viewmode');}
Score.enterEditText=function(ele){$(ele).removeClass('viewmode').addClass('editmode');$(ele).parent().parent().find('.caution').parent().css('display','block');}
Score.leaveEditText=function(ele){$(ele).parent().css('display','none');$(ele).parent().parent().find('.editmode').removeClass('editmode').addClass('viewmode');}
Score.deleteResultType=function(ele){if($('.scorelist > li').length>1){$('.scorelist > li').has(ele).remove();}$('.scorelist > li:last-child .requirements-container').html(Score.$3);}
Score.setDefaultValue=function(scoreItem){if(String.isNullOrEmpty(scoreItem.description)){scoreItem.description="You scored $(Pure)% pure. Author: here you should write a description of this test result, telling the taker what his/her score means and why they got it. \r\n                        Note: in the description or title of a test result, you can refer to someone's score on a variable by wrapping the variable name in $(). \r\n                        For example, you could say here, Hey! You scored $(intelligence) on intelligence. Brilliant!";}if(String.isNullOrEmpty(scoreItem.title)){scoreItem.description='Add title here';}if(String.isNullOrEmpty(scoreItem.subTitle)){scoreItem.description='$(Pure)% Pure!';}}
Score.addResultType=function(ele,scoreItem){var $0=Basic.getVariables(ele);var $1='';var $2='';var $dict1=$0;for(var $key2 in $dict1){var $5={key:$key2,value:$dict1[$key2]};$1+=((!$1)?'':', ')+String.format('$({0})% {0}!',$5.key);$2+=((!$2)?'':', ')+String.format('$({0})% {0}',$5.key);}var $3=Score.$1.replaceAll('$(Pure)% Pure!',$1).replaceAll('$(Pure)% pure',$2);var $4;if(!$('.score .scorelist > li').length){$4=$($3).appendTo('.score .scorelist');$4.find('.requirements-container').html(Score.$3);}else{$4=$($3).insertBefore('.score .scorelist > li:first-child');$4.find('.requirements-container').html(Score.$2);}$4.fadeTo(0,0.4,function(){
$4.fadeTo('slow',1);});Score.$7($4.get(0));if(scoreItem!=null){Score.setDefaultValue(scoreItem);$4.find('input.reqtitle').val(scoreItem.title);$4.find('input.reqsubtitle').val(scoreItem.subTitle);$4.find('p.question-question').html(scoreItem.description);if(scoreItem.imageUrl!=null&&!!scoreItem.imageUrl){$4.find('.image-container>img').attr('src',scoreItem.imageUrl).css('display','block');}if(scoreItem.requirements!=null&&scoreItem.requirements.length>0){var $6=$4.find(".requirements a[onclick='Score.addRequirement(this)']").get(0);if($6!=null){for(var $7=0;$7<scoreItem.requirements.length;$7++){Score.addRequirement($6,scoreItem.requirements[$7]);}}}}else{}}
Score.checkVarRange=function(){var $0={};$('#testpage .question .answer-pure>ul').each(function($p1_0,$p1_1){
var $1_0=TestEditor.readPure($p1_1);var $dict1=$1_0;for(var $key2 in $dict1){var $1_1={key:$key2,value:$dict1[$key2]};if(ss.isNullOrUndefined($0[$1_1.key])){$0[$1_1.key]=[$1_1.value,$1_1.value];}if($1_1.value<$0[$1_1.key][0]){$0[$1_1.key][0]=$1_1.value;}if($1_1.value>$0[$1_1.key][1]){$0[$1_1.key][1]=$1_1.value;}}});return $0;}
Score.initiVarRange=function(){var $0=Score.checkVarRange();var $1='<li class="varitem"><strong>{0}</strong> scores range <strong>{1}</strong> to <strong>{2}</strong>.</li>';var $2=$('#testpage .score ul.varlist');$2.find('li').remove();var $dict1=$0;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};$(String.format($1,$3.key,$3.value[0],$3.value[1])).appendTo($2);}}
Score.$6=function($p0,$p1){var $0=Basic.getVariables($p0);var $1='';var $dict1=$0;for(var $key2 in $dict1){var $3={key:$key2,value:$dict1[$key2]};$1+=String.format('<option value={0}>{0}</option>',$3.key);}$($p0).find('select.varoptions').html($1).each(function($p1_0,$p1_1){
if(!$p1_0){$($p1_1).val(($p1!=null)?$p1.variable:null);}if($p1_0===1){$($p1_1).val(($p1!=null)?$p1.objVariable:null);}});$($p0).find('input.reqvalue').val(($p1!=null)?$p1.value:null);var $2=$($p0).find("select[onchange='Score.reqConditionChange(this);']");$2.val(($p1!=null)?$p1.condition:null);Score.reqConditionChange($2.get(0));}
Score.$7=function($p0){var $0=$($p0);var $1={element:$0.find('.fileupload').get(0),action:'/img/uploadtest',allowedExtensions:['jpg','jpeg','png','gif'],sizeLimit:5000000,onComplete:function($p1_0,$p1_1,$p1_2){
if(!ss.isNullOrUndefined($p1_2['error'])){alert($p1_2['error']);}else if(!ss.isNullOrUndefined($p1_2['success'])){$0.find('img').css('display','block').prop('src',$p1_2['path']);}else{alert('Failed to upload file by unknown error');}$0.find('.qq-upload-list').css('display','none');$0.find('.imgname').html($0.find('.qq-upload-list li .qq-upload-file').html()+'<br />');},onSubmit:function($p1_0,$p1_1,$p1_2){
$0.find('.qq-upload-list li').remove();$0.find('.qq-upload-list').css('display','block');}};var $2=new qq.FileUploader(option);}
Score.reqConditionChange=function(ele){var $0=$(ele).parent();var $1=ele.options[ele.selectedIndex];switch($1.value){case 'GreaterThanValue':case 'LessThanValue':$0.find('.reqvarobj').css('display','none');$0.find('.reqvalue').css('display','inline');break;case 'GreaterThanVar':case 'LessThanVar':$0.find('.reqvarobj').css('display','inline');$0.find('.reqvalue').css('display','none');break;case 'GreatestVar':case 'LeastVar':$0.find('.reqvarobj').css('display','none');$0.find('.reqvalue').css('display','none');break;}if(($1.value!=='GreaterThanValue'&&$1.value!=='LessThanValue')||Score.getScallingType()==='raw'){$0.find('.requnit').css('display','none');}else{$0.find('.requnit').css('display','inline');}}
Score.getScallingType=function(){var $0=$('div.scalingtype p a.activebtn');if($0.parent().find('a').first().get(0)===$0.get(0)){return 'Percentage';}else{return 'Raw';}}
Score.onActive=function(){Score.initiVarRange();}
Score.changeVariableName=function(oldname,varname){$('#testpage .score .scorelist input.reqtitle,#testpage .score .scorelist input.reqsubtitle,#testpage .score .scorelist p.question-question').each(function($p1_0,$p1_1){
if($p1_1.tagName.toLowerCase()==='input'){var $1_0=($p1_1).value;($p1_1).value=$1_0.replaceAll('$('+oldname+')','$('+varname+')');}if($p1_1.tagName.toLowerCase()==='p'){var $1_1=$p1_1.innerHTML;$p1_1.innerHTML=$1_1.replaceAll('$('+oldname+')','$('+varname+')');}});}
Score.basic_ChangeVarname=function(oldname,varname){$("#testpage .score .scorelist .requirements .varoptions>option[value='"+oldname+"']").text(varname).attr('value',varname);Score.changeVariableName(oldname,varname);}
Score.basic_AddVariable=function(varname){$('#testpage .score .scorelist .requirements .varoptions').append(String.format('<option value={0}>{0}</option>',varname));}
Score.basic_RemoveVariable=function(varname){var $0=$("#testpage .score .scorelist .requirements .varoptions>option[value='"+varname+"']");if($0.parent().val()===varname){$0.parent().val(null);}$0.remove();Score.changeVariableName(varname,'????');}
window.TestEditor=function(){}
TestEditor.showTab=function(ele,tabclass){$('#testeditortoolbar .nav > li').removeClass('active').has(ele).addClass('active');$('#testpage > div a.button-done').each(function($p1_0,$p1_1){
$($p1_1).closest('.question-question-editor,.answer-editor').each(function($p2_0,$p2_1){
if($p2_1.style.display==='block'){$p1_1.click();}});});$('#testpage > div').not('.testheader').not('.testfooter').hide().filter('.'+tabclass).slideDown();if(tabclass==='score'){Score.initiVarRange();}}
TestEditor.navSaveDraft=function(ele){TestEditor.updateTest($('#testpage > div').get(0),false);}
TestEditor.navComplete=function(ele){TestEditor.updateTest($('#testpage > div').get(0),true);}
TestEditor.navRemove=function(ele){if(!confirm('Do you want to remove the test?')){return;}var $0=$("#testpage h2>input[name='testid']").val();var $1='/quizz/remove/'+$0;window.location = url;}
TestEditor.load=function(testpage,testid){$.getJSON(String.format('/quizztest/load/{0}',testid),function($p1_0){
try{var $1_0=$p1_0;TestEditor.buildTestEditor(testpage,$1_0);}catch($1_1){TestEditor.$0('Could not complete operation. Please try again later');}}).error(function($p1_0,$p1_1,$p1_2){
TestEditor.$0('Could not complete operation. Please try again later');}).success(function($p1_0,$p1_1,$p1_2){
});}
TestEditor.$0=function($p0){alert($p0);}
TestEditor.createDefaultTest=function(testpage){var $0=new Test();$0.title='Type test title here';$0.items=[];var $1=new QuestionItem(ItemTypeDef.html);$1.html="Hi! And welcome to my test. I'll be using advanced logic and magic to determine your true nature. I'll ask you some questions about something, then I'll analyze you. \r\n                        Author:<font color=\"#ff0000\"> <strong>This is your intro page. You should click here to edit the text, and you should write something witty, introducing your test. \r\n                        Also, see the fruity picture above? You should remove it and replace it with a fun picture relating to your test.</strong></font>";$0.items.add($1);var $2=new QuestionItem(ItemTypeDef.pageBreak);$2.buttonNext='Go';$0.items.add($2);TestEditor.buildTestEditor(testpage,$0);$(testpage).find('.qmenu').last().find('ul>li>a').first().click();$(testpage).find('.qmenu').last().find('ul>li>a').first().click();}
TestEditor.buildTestEditor=function(testpage,testdata){if(testdata.title==null||!testdata.title){testdata.title='Type test title here';}if(testdata.items==null||!testdata.items.length){testdata.items=[];var $2=new QuestionItem(ItemTypeDef.html);$2.html="Hi! And welcome to my test. I'll be using advanced logic and magic to determine your true nature. I'll ask you some questions about something, then I'll analyze you. \r\n                        Author:<font color=\"#ff0000\"> <strong>This is your intro page. You should click here to edit the text, and you should write something witty, introducing your test. \r\n                        Also, see the fruity picture above? You should remove it and replace it with a fun picture relating to your test.</strong></font>";testdata.items.add($2);}$(testpage).addClass('testpage');$(testpage).html('');var $0=$(String.format(TestEditor.$2,testdata.title)).appendTo(testpage);$0.find("input[name='testid']").val((testdata!=null)?testdata.testId:'');$0.find("input[name='status']").val((testdata!=null)?testdata.status:'editing');var $1=$(testpage).find('.questions > ul');TestEditor.buildTestQuestionEditor($1.get(0),testdata);Advice.$4(testpage);Basic.$5(testpage,testdata.testBasic);Score.$5(testpage,testdata.testScore);if(testdata.status==='completed'&&false){TestEditor.$1A(false);TestEditor.makeEditorReadOnly();$("#testeditortoolbar a:contains('Save Draft'),#testeditortoolbar a:contains('Complete'),#testeditortoolbar a:contains('Remove')").css('display','none');}else if(testdata.status==='completed'){$("#testeditortoolbar a:contains('Save Draft')").css('display','none');}if(testdata.items.length===1){$(testpage).find('.qmenu').first().find('ul>li>a').first().click();}TestEditor.showPreview(testdata.testId);}
TestEditor.showPreview=function(testid){var $0=$("#testeditortoolbar a:contains('Preview')");if(testid!=null&&!!testid&&testid!=='0'){$0.attr('href','/quizz/preview/'+testid);$0.attr('onclick','');$0.css('display','block');$0.attr('target','blank');}else{$0.attr('href','javascript:void(0);');$0.attr('onclick','return false;');$0.css('display','none');$0.attr('target','');}}
TestEditor.buildTestQuestionEditor=function(testul,testdata){var $enum1=ss.IEnumerator.getEnumerator(testdata.items);while($enum1.moveNext()){var $0=$enum1.current;var $1=null;if($0.itemType===ItemTypeDef.multiChoice){$1=$(TestEditor.$6).appendTo(testul);$1.find('.question-question').html($0.question);var $enum2=ss.IEnumerator.getEnumerator($0.answers);while($enum2.moveNext()){var $2=$enum2.current;TestEditor.$1($1.find('ul.answers').get(0),$2,testdata.testId,$0.questionId,$2.answerId);}}if($0.itemType===ItemTypeDef.html){$1=$(TestEditor.$8).appendTo(testul);$1.find('.question-question').html($0.html);}if($0.itemType===ItemTypeDef.pageBreak){$1=$(TestEditor.$A).appendTo(testul);$1.find('.question-main input').val($0.buttonNext);}if($0.itemType===ItemTypeDef.photo){$1=$(TestEditor.$C).appendTo(testul);$1.find('.image-container>img').prop('src',$0.imagePath);}if($1!=null){$(TestEditor.$4).appendTo($1.find('.qmenu ul'));}}}
TestEditor.$1=function($p0,$p1,$p2,$p3,$p4){var $0=$($p0).find('.add-answer').parent();var $1=null;if($0.length>0){$1=$(String.format(TestEditor.$E,$p1.answer)).insertBefore($0);}else{$1=$(String.format(TestEditor.$E,$p1.answer)).appendTo($p0);}var $2=$1.find('.answer-html .answer-pure ul').get(0);TestEditor.$12($2,$p1.pures);}
TestEditor.editAnswer=function(ele){var $0=$('ul.answers li').has(ele);$0.find('.answer-html').css('display','none');$0.find('.answer-editor').css('display','block');var $1=$0.find('textarea');var $2={width:390,height:120,controls:TestEditor.$18};var $3=jq.cleditor(option);var $4=$0.find('.answer-answer').html().trim();$1.val($4).blur();var $5=TestEditor.readPure($0.find('.answer-html .answer-pure ul').get(0));TestEditor.$13($0.find('.answer-editor .answer-pure ul').get(0),$5);}
TestEditor.endEditAnswer=function(ele){var $0=$('ul.answers li').has(ele);$0.find('.answer-html').css('display','inline');$0.find('.answer-editor').css('display','none');var $1=$0.find('textarea');$0.find('.answer-answer').html($1.val());var $2=TestEditor.readPure($0.find('.answer-editor .answer-pure ul').get(0));TestEditor.$12($0.find('.answer-html .answer-pure ul').get(0),$2);TestEditor.normalizeDivAndParagraph($0.find('.answer-answer'));}
TestEditor.removeAnswer=function(ele){$('ul.answers li').has(ele).remove();}
TestEditor.addAnswer=function(ele,pures,defaultText){if(ele==null){return;}ele=ele.parentNode;var $0=ele.parentNode;if(pures==null){pures={};}if(ss.isNullOrUndefined(pures['Pure'])){pures['Pure']=0;}var $1=String.format(TestEditor.$E,String.format('Answer {0} - click to change',$0.children.length));var $2=$($1).insertBefore(ele).find('.answer-html .answer-pure ul').get(0);TestEditor.$12($2,pures);}
TestEditor.readPure=function(ul){var $0=Basic.getVariables(ul);if(ul==null){return $0;}$(ul).children('li').each(function($p1_0,$p1_1){
var $1_0=$($p1_1).children('label').text().trim();var $1_1=$($p1_1).find('option:selected').text().trim();if($1_1==null||!$1_1){$1_1=$($p1_1).children('span').text().trim();}var $1_2=0;try{$1_2=parseInt($1_1);}catch($1_3){}if(!ss.isNullOrUndefined($0[$1_0])&&!!$1_0){$0[$1_0]=$1_2;}});return $0;}
TestEditor.$12=function($p0,$p1){if($p0==null){return;}var $0='';var $dict1=$p1;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};if(!!$1.value&&$1.value!=='0'&&!!$1.value){$0+=String.format(TestEditor.$10,$1.key,TestEditor.$14($1.value));}}if(!$0){$0+=String.format(TestEditor.$10,'','no effect');}$p0.innerHTML=$0;}
TestEditor.$13=function($p0,$p1){if($p0==null){return;}var $0='';var $dict1=$p1;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0+=String.format(TestEditor.$11,$1.key,TestEditor.$15(TestEditor.$14($1.value)));}$p0.innerHTML=$0;}
TestEditor.$14=function($p0){return ($p0>0)?'+'+$p0.toString():$p0.toString();}
TestEditor.$15=function($p0){var $0=['+5','+4','+3','+2','+1','0','-1','-2','-3','-4','-5'];var $1='<option {1}>{0}</option>';var $2='';var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$2+=String.format($1,$3,($p0===$3)?"selected='selected'":'');}return $2;}
TestEditor.$16=function($p0,$p1,$p2){var $0=null;if($($p0).hasClass('testpage')){$0=$($p0);}else{$0=$('.testpage').has($p0);}var $1=$0.find('.testheader');if(!$1.prev().length){$("<div style='display:none; background-color: #fcefd6; padding-top: 5px; padding-bottom: 15px; color: #666; '></div>").insertBefore($1).html($p1).slideDown();}else{$1.prev().html('').hide().html($p1).slideDown();}if($p2>0){window.setTimeout(function(){
$1.prev().slideUp();},$p2);}}
TestEditor.retakeTest=function(id){}
TestEditor.rateTest=function(ele,rate,id){$.getJSON('/quizztest/rate/'+id.toString()+'?rate='+rate.toString()).success(function($p1_0){
var $1_0=$p1_0;if($1_0!=null&&$1_0['success']!=null){$(ele).parent().children().removeClass('star-current');$(ele).addClass('star-current');}});}
TestEditor.loadTest=function(testpage,testid,page){$.getJSON(String.format('/quizztest/taketest/{0}?page={1}',testid,page),function($p1_0){
try{TestEditor.buildTest(testpage,$p1_0,false);}catch($1_0){TestEditor.$0('Could not complete operation. Please try again later');}}).error(function($p1_0,$p1_1,$p1_2){
TestEditor.$0('Could not complete operation. Please try again later');}).success(function($p1_0,$p1_1,$p1_2){
});}
TestEditor.buildTest=function(testpage,data,readonlytest){var $0=null;var $1=null;var $2=Date.get_today().format('MMM,dd yyy');var $3=null;if(!ss.isNullOrUndefined(data['detail'])){$3=data;$0=$3.detail;$1=$3.total;try{if(!ss.isNullOrUndefined($3.takenTime)){$2=$3.takenTime;}}catch($5){}}else{$0=data;}$(testpage).addClass('testpage');if(ss.isNull($0.page)||!$0.page){$(testpage).html('');var $6=$(String.format(TestEditor.$3,$0.title)).appendTo(testpage);$6.parent().find("h2>input[name='testid']").val($0.testId);}var $4=$(testpage).find('.questions > ul');if($3!=null){}if($3!=null&&$3.scoreItemResults!=null&&$3.scoreItemResults.length>0){TestEditor.buildTestResult(testpage,$3);}if(!readonlytest&&$3==null&&$0.testBasic!=null){TestEditor.buildTestQuestion($4.get(0),$0,readonlytest);TestEditor.buildTestDescription(testpage,$0.testBasic);}}
TestEditor.buildTestDescription=function(testpage,testBasic){var $0=$(testpage).find('.questions > ul');var $1=$(TestEditor.$5);$1.find('.question-left>div').html('DESCTIPTION');$1.find('.rstitle').html('');$1.find('.rssubtitle').html('').parent().css('display','none');$1.find('.rsdesc').html(testBasic.description);if(testBasic.thumnailUrl!=null&&!!testBasic.thumnailUrl){$1.find('.image-container img').css('display','block').attr('src',testBasic.thumnailUrl);}if($0.children('li').length>0){$1=$1.insertBefore($0.children().first());}else{$1=$1.appendTo($0);}$('.testpage .questions ul li.testresult a[onclick]').text('TAKE TEST').css('display','inline').attr('onclick','TestEditor.startTest(this, false); return false;');}
TestEditor.buildTestResult=function(testpage,testresult){var $0=$(testpage).find('.questions > ul');var $1=testresult.scoreItemResults[0];var $2=$(TestEditor.$5);$2.find('.rstitle').html($1.title);$2.find('.rssubtitle').html($1.subTitle);$2.find('.rsdesc').html($1.description);if($1.imageUrl!=null&&!!$1.imageUrl){$2.find('.image-container img').css('display','block').attr('src',$1.imageUrl);}if($0.children('li').length>0){$2=$2.insertBefore($0.children().first());}else{$2=$2.appendTo($0);}TestEditor.showTestResultDetail(null,false);var $3="<div class='chartContainer' style='margin: 30px 0px 10px 0px;'>"+'</div>';var $4="<div class='chart' style='float: left; margin: 10px 20px 10px 20px; width: 210px; height: 135px;'>"+"<div class='chart-chart'></div>"+"<div class='chart-title'></div>"+'</div>';var $5="<div class='clear'></div>";var $6=$($3).appendTo(testpage);var $7=function(){
var $enum1=ss.IEnumerator.getEnumerator(testresult.chartDatas);while($enum1.moveNext()){var $1_0=$enum1.current;var $1_1=$($4).appendTo($6);var $1_2=new Quizz.QuizzChart();$1_2.init($1_0.samplePoints,$1_0.score,$1_0.minX,$1_0.maxX,210,95);$1_2.draw($1_1.find('.chart-chart').get(0));var $1_3='';if($1_0.scaling==='Percentage'){$1_3=String.format('You scored {0}% on {1}, higher than {2}% of your peers.',Math.round($1_0.percent*100),$1_0.scoreName,$1_2.getMyPercent());}else{$1_3=String.format('You scored {0} on {1}, higher than {2}% of your peers.',$1_0.score,$1_0.scoreName,$1_2.getMyPercent());}$1_1.find('.chart-title').html($1_3);}$($5).appendTo($6);};
        google.load('visualization', '1.0', { 'packages': ['corechart'] });    
        if (google.visualization) {
            drawChart();
        }
        else {
            google.setOnLoadCallback(drawChart);
        };}
TestEditor.showTestResultDetail=function(ele,show){var $0=$('.testpage .questions>ul>li').not('.testresult');if(show){$0.fadeIn();$('.testpage .questions ul li.testresult a[onclick]').text('Hide detail').attr('onclick','TestEditor.showTestResultDetail(this, false); return false;');}else{if($0.css('display')!=='none'){$0.fadeOut();}$('.testpage .questions ul li.testresult a[onclick]').text('Show detail').attr('onclick','TestEditor.showTestResultDetail(this, true); return false;');}}
TestEditor.startTest=function(){$('.testpage .questions>ul>li.testresult').css('display','none');TestEditor.nextPage($('.testpage .questions>ul>li.testresult').last().children().first().get(0));}
TestEditor.buildTestQuestion=function(testul,testdata,readonlytest){readonlytest=(readonlytest||testdata.status==='tested');var $0=1;var $1=0;var $enum1=ss.IEnumerator.getEnumerator(testdata.items);while($enum1.moveNext()){var $2=$enum1.current;if($2.itemType===ItemTypeDef.multiChoice){var $3=$(TestEditor.$7).appendTo(testul);$3.find('.question-question').html($2.question);var $4=1;var $enum2=ss.IEnumerator.getEnumerator($2.answers);while($enum2.moveNext()){var $5=$enum2.current;TestEditor.$17($3.find('ul.answers').get(0),$5,testdata.testId,$2.questionId,$5.answerId);$4++;}if(readonlytest){$3.find('ul.answers').find("input[type='radio']").attr('disabled','disabled');}$3.find('.question-left').html(String.format("<div style='text-align:right;font-size:14px!important;color:#999;padding-right:20px;font-weight:bold'>{0}</div>",$0));$0++;}if($2.itemType===ItemTypeDef.html){var $6=$(TestEditor.$9).appendTo(testul);$6.find('.question-question').html($2.html);}if($2.itemType===ItemTypeDef.pageBreak){var $7=$(TestEditor.$B).appendTo(testul);$7.find('a.button').text($2.buttonNext);}if($2.itemType===ItemTypeDef.photo){var $8=$(TestEditor.$D).appendTo(testul);$8.find('.image-container>img').prop('src',$2.imagePath);}}if(!readonlytest){var $9=$(TestEditor.$B).appendTo(testul);$9.find('p. >a').text('Finish').attr('onclick','TestEditor.finish(this); return false;');$9.find('p. >a').prop('href','#');}}
TestEditor.$17=function($p0,$p1,$p2,$p3,$p4){var $0=$(String.format(TestEditor.$F,$p1.answer)).appendTo($p0);var $1=$0.find("input[type='radio']").val($p4);$1.prop('name',$p2+'_'+$p3);if(!!$p1.selected){$1.attr('checked','checked');TestEditor.$12($0.find('.answer-pure ul').get(0),$p1.pures);}}
TestEditor.finish=function(btnEle){if(!confirm('Are you sure finish the test?')){return;}var $0=[];var $1=$('.testpage').has(btnEle).get(0);$($1).find("div[class='questions'] ul li[class='question']").each(function($p1_0,$p1_1){
$($p1_1).find('ul.answers li').each(function($p2_0,$p2_1){
var $2_0=$($p2_1).find('.answer-dot input:checked');if($2_0.length>0){$0.add(new UserAnswer($2_0.attr('name'),$2_0.val()));}});});var $2=$($1).find("h2>input[name='testid']").val();$.post(String.format('/quizztest/submit/{0}?page={1}',$2,0),$0,function($p1_0){
try{TestEditor.buildTest($1,$.parseJSON($p1_0),true);var $1_0=$($1).find('.testheader').prev();$("<h2 style='display:none; text-align:center; font-size:14px; '>Thanks for taking the test !</h2>").insertBefore($1_0.children().first()).show();}catch($1_1){TestEditor.$0('Could not complete operation. Please try again later');}}).error(function($p1_0,$p1_1,$p1_2){
alert('An error occurs, please try again later');}).success(function($p1_0,$p1_1,$p1_2){
});}
TestEditor.nextPage=function(ele){if(ele==null){return;}var $0=$('.questions>ul>li').has(ele);var $1=$0.next();while($0.length>0){$0.css('display','none');$0=$0.prev();}while($1.length>0){$1.fadeIn();if($1.hasClass('pagebreak')){break;}$1=$1.next();}}
TestEditor.loadNext=function(source){var $0=$('.questions > ul').has(source);var $1=$0.prop('testid');var $2=$0.prop('currentpage');var $3=$0.prop('totalpage');if(ss.isNullOrUndefined($2)){$2=0;}if(ss.isNullOrUndefined($3)){$3=1;}if($2<$3-1){TestEditor.loadTest($0.parent().parent().get(0),$1,$2+1);}}
TestEditor.generateTest=function(){TestEditor.buildTest($('#test').get(0),TestEditor.$1F($('#testpage h2').get(0)),false);}
TestEditor.upadateTestTitle=function(value){}
TestEditor.actionClick=function(actEle){var $0=$('.question').has(actEle);if($0.hasClass('activemenu')){$('.activemenu').removeClass('activemenu');}else{$('.activemenu').removeClass('activemenu');$0.addClass('activemenu');}}
TestEditor.addMultiChoice=function(ele,ul){var $0=null;if(ele!=null){$0=$(TestEditor.$6).insertAfter($('.question').has(ele));}else if(ul!=null){$0=$(TestEditor.$6).appendTo(ul);}else{return;}$(TestEditor.$4).appendTo($0.find('.qmenu ul'));$0.find('.add-answer').click();$0.find('.add-answer').click();$('.activemenu').removeClass('activemenu');}
TestEditor.addTextOrHtml=function(ele,ul){var $0=null;if(ele!=null){$0=$(TestEditor.$8).insertAfter($('.question').has(ele));}else if(ul!=null){$0=$(TestEditor.$8).appendTo(ul);}else{return;}$(TestEditor.$4).appendTo($0.find('.qmenu ul'));$('.activemenu').removeClass('activemenu');}
TestEditor.addPageBreak=function(ele,ul){var $0=null;if(ele!=null){$0=$(TestEditor.$A).insertAfter($('.question').has(ele));}else if(ul!=null){$0=$(TestEditor.$A).appendTo(ul);}else{return;}$(TestEditor.$4).appendTo($0.find('.qmenu ul'));$('.activemenu').removeClass('activemenu');}
TestEditor.addPicture=function(ele,ul){var $0=null;if(ele!=null){$0=$(TestEditor.$C).insertAfter($('.question').has(ele));}else if(ul!=null){$0=$(TestEditor.$C).appendTo(ul);}else{return;}$(TestEditor.$4).appendTo($0.find('.qmenu ul'));var $1={element:$0.find('.question-main .fileupload').get(0),action:'/img/uploadtest',allowedExtensions:['jpg','jpeg','png','gif'],sizeLimit:5000000,onComplete:function($p1_0,$p1_1,$p1_2){
if(!ss.isNullOrUndefined($p1_2['error'])){alert($p1_2['error']);}else if(!ss.isNullOrUndefined($p1_2['success'])){$0.find('img').css('display','block').prop('src',$p1_2['path']);}else{alert('Failed to upload file by unknown error');}$0.find('.qq-upload-list').css('display','none');$0.find('.imgname').html($0.find('.qq-upload-list li .qq-upload-file').html()+'<br />');},onSubmit:function($p1_0,$p1_1,$p1_2){
$0.find('.qq-upload-list li').remove();$0.find('.qq-upload-list').css('display','block');}};var $2=new qq.FileUploader(option);$('.activemenu').removeClass('activemenu');}
TestEditor.deleteItem=function(ele){var $0=$('.question').has(ele);if($0.parent().find('.question').first().get(0)!==$0.get(0)){$0.remove();}else{alert('Please dont delete introduction item');}$('.activemenu').removeClass('activemenu');}
TestEditor.cancel=function(ele){$('.question-left').has(ele).find("a[class='button']").click();$('.activemenu').removeClass('activemenu');}
TestEditor.imageLoaded=function(img){img.style.display='block';var $0=500;var $1=img.naturalWidth;var $2=img.naturalHeight;if($1>$0){img.width=$0;}}
TestEditor.editQuestion=function(ele){var $0=$('.question-main').has(ele);var $1=$0.children('.question-question-editor');var $2=$0.children('.question-question');var $3=$1.find('textarea');$2.css('display','none');$1.css('display','block');var $4={width:495,height:140,controls:TestEditor.$18};var $5=jqeditor.cleditor(option);var $6=$2.html().trim();$3.val($6).blur();}
TestEditor.endEditQuestion=function(ele){var $0=$('.question-main').has(ele);var $1=$0.children('.question-question-editor');var $2=$0.children('.question-question');var $3=$1.find('textarea');$2.css('display','block');$1.css('display','none');$2.html($3.val());TestEditor.normalizeDivAndParagraph($2);}
TestEditor.normalizeDivAndParagraph=function(jq){return;var $0=jq.children().length>0;jq.children().each(function($p1_0,$p1_1){
if($p1_1.nodeType!==3){var $1_0=$p1_1.tagName.toUpperCase();if($1_0!=='P'&&$1_0!=='DIV'){$0=false;}}});if($0){var $1='';jq.children().each(function($p1_0,$p1_1){
var $1_0=$p1_1.tagName.toUpperCase();if($1_0==='P'||$1_0==='DIV'){$1+=$($p1_1).html()+'<br />';}else{$1+=$($p1_1).html();}});jq.html($1);}}
TestEditor.booleanMethod=function(result){return result;}
TestEditor.makeEditorReadOnly=function(){$('#testpage *[onclick]').each(function($p1_0,$p1_1){
var $1_0=$p1_1.getAttribute('onclick');if($1_0!=null&&!$1_0.startsWith('return TestEditor.booleanMethod(false);')){$p1_1.setAttribute('onclick','return TestEditor.booleanMethod(false);'+$1_0);}});$('#testpage select').attr('disabled','disabled');$('#testpage .add,#testpage .remove,#testpage .fileupload,#testpage .topdeletebtn,#testpage .answer-remove,#testpage .add-answer').css('display','none');$('#testpage .questions .question-left').css('visibility','hidden');}
TestEditor.$19=function($p0,$p1){var $0=$($p0).find('*[onclick]').andSelf();if($p1){$0.each(function($p1_0,$p1_1){
var $1_0=$p1_1.getAttribute('onclick');if($1_0!=null&&!$1_0.startsWith('return TestEditor.booleanMethod(false);')){$p1_1.setAttribute('onclick','return TestEditor.booleanMethod(false);'+$1_0);}});}else{$0.each(function($p1_0,$p1_1){
var $1_0=$p1_1.getAttribute('onclick');if($1_0!=null){$1_0=$1_0.replaceAll('return TestEditor.booleanMethod(false);','');}$p1_1.setAttribute('onclick',$1_0);});}}
TestEditor.$1A=function($p0){var $0=$('#testeditortoolbar');if($p0){$0.attr('disabled','disabled');}else{$0.removeAttr('disabled');}TestEditor.$19($0.get(0),$p0);}
TestEditor.updateTest=function(ele,finish){if(finish){if(!confirm('Do you want to complete and publish the test')){return;}}var $0=$('.testpage').has(ele);if($0.find('.question-question-editor:visible').length+$0.find('.answer-editor:visible').length>0&&finish){alert('Please complete all your editting questions before update');return;}var $1=$0.find("h2>input[name='test-title']").val();if($1.replace(TestEditor.$1C,'').toLowerCase().startsWith('Type test title here'.replace(TestEditor.$1C,'').toLowerCase())&&!TestEditor.$1D()){alert('Please edit your test title');return;}var $2=TestEditor.$1F(ele);if(finish){$2.status='completed';}else{$2.status='editing';}TestEditor.$1A(true);$.post('/quizztest/updatetest?finish='+finish,$2,function($p1_0){
TestEditor.$1A(false);}).error(function($p1_0,$p1_1,$p1_2){
alert('An error occur, please try again later.\r\nError detail: \r\n'+$p1_1);TestEditor.$1A(false);}).success(function($p1_0,$p1_1,$p1_2){
var $1_0=$.parseJSON($p1_0);if($1_0.status==='completed'&&false){var $1_1=String.format("<h2 style='text-align:center; font-size:14px; '>Your test has been published!</h2>");TestEditor.$16($0.get(0),$1_1,-1);$0.find("input[name='testid']").val($1_0.testId);$0.find("input[name='status']").val($1_0.status);TestEditor.$1A(false);TestEditor.makeEditorReadOnly();$("#testeditortoolbar a:contains('Save Draft'),#testeditortoolbar a:contains('Complete'),#testeditortoolbar a:contains('Remove')").css('display','none');}if($1_0.status==='completed'){var $1_2=String.format("<h2 style='text-align:center; font-size:14px; '>Saved</h2>");TestEditor.$16($0.get(0),$1_2,4000);$0.find("input[name='testid']").val($1_0.testId);$0.find("input[name='status']").val($1_0.status);TestEditor.showPreview($1_0.testId);TestEditor.$1A(false);$("#testeditortoolbar a:contains('Save Draft')").css('display','none');}else{var $1_3=String.format("<h2 style='text-align:center; font-size:14px; '>Saved to draft</h2>");TestEditor.$16($0.get(0),$1_3,4000);$0.find("input[name='testid']").val($1_0.testId);$0.find("input[name='status']").val($1_0.status);TestEditor.showPreview($1_0.testId);TestEditor.$1A(false);}});}
TestEditor.$1D=function(){return document.URL.indexOf('127.0.0.1')>0;}
TestEditor.$1E=function($p0,$p1){var $0=TestEditor.$1D();if($p0==null||$p0.items==null||$p1==null){return false;}$p1.questionId=($p0.items.length+1).toString();if($p1.itemType===ItemTypeDef.pageBreak){if($p0.items.length>0){var $1=$p0.items[$p0.items.length-1];if($1.itemType===ItemTypeDef.pageBreak){return false;}}if(!$p0.items.length){return false;}}if($p1.itemType===ItemTypeDef.html){if($p1.html.replace(TestEditor.$1C,'').toLowerCase().startsWith('Edit your text or HTML here'.replace(TestEditor.$1C,'').toLowerCase())){$p0.parseError.add({reason:'invalid html text: '+$p1.html});}}if($p1.itemType===ItemTypeDef.photo){if($p1.imagePath==null||!$p1.imagePath){return false;}}if($p1.itemType===ItemTypeDef.multiChoice&&!$0){if($p1.question.replace(TestEditor.$1C,'').toLowerCase().startsWith('Click here to edit your new question'.replace(TestEditor.$1C,'').toLowerCase())){$p0.parseError.add({reason:'invalid question text: '+$p1.question});}for(var $2=$p1.answers.length-1;$2>=0;$2--){var $3=$p1.answers[$2];if($3.answer==null||!$3.answer||TestEditor.$1B.test($3.answer)){}$3.answerId=($2+1).toString();}if(!$p1.answers.length){$p0.parseError.add({reason:'question must have answer: '+$p1.question});}}if($p1.itemType===ItemTypeDef.multiChoice&&$0){for(var $4=$p1.answers.length-1;$4>=0;$4--){var $5=$p1.answers[$4];$5.answerId=($4+1).toString();}}$p0.items.add($p1);return true;}
TestEditor.$1F=function($p0){var $0=$('.testpage').has($p0);var $1=new Test();$1.title=$0.find("h2>input[name='test-title']").val();$1.testId=$0.find("h2>input[name='testid']").val();$1.status=$0.find("h2>input[name='status']").val();if($1.testId==null||!$1.testId){$1.testId='';}var $2=$0.find('.questions');$2.find('li.question').each(function($p1_0,$p1_1){
var $1_0=$($p1_1).find('.question-main ul.answers');if($1_0.length>0){TestEditor.$1E($1,TestEditor.readTest_ParseMultichoice($p1_1));return;}var $1_1=$($p1_1).find('.question-main .image-container');if($1_1.length>0){TestEditor.$1E($1,TestEditor.readTest_ParsePhoto($p1_1));return;}var $1_2=$($p1_1).find('.question-main>p:first-child input');if($1_2.length>0){TestEditor.$1E($1,TestEditor.readTest_PageBreak($p1_1));return;}var $1_3=$($p1_1).find('.question-main>p:first-child').not('input');if($1_3.length>0){TestEditor.$1E($1,TestEditor.readTest_ParseHtml($p1_1));return;}});$1.testBasic=TestEditor.$20($p0);$1.testScore=TestEditor.$21($p0);return $1;}
TestEditor.$20=function($p0){var $0=$('.testpage').has($p0);var $1=$0.find('.basic>ul>li');var $2=new TestBasic();$2.description=$($1[0]).find('.question-main>p.question-question').html();$2.maturity=$($1[1]).find('.question-main>select').val();$2.category=$($1[2]).find('.question-main>p>select.test-category').val();$2.subCategory=$($1[2]).find('.question-main>p>select.test-subcategory').val();$2.thumnailUrl=$($1[4]).find('.question-main>div.image-container>img').attr('src');$($1[3]).find('.question-main>ul>li.variable>input').each(function($p1_0,$p1_1){
$2.variables.add(($p1_1).value);});return $2;}
TestEditor.$21=function($p0){var $0=$('.testpage').has($p0);var $1=new TestScore();$1.scaling=Score.getScallingType();$0.find('.score>ul.scorelist>li').each(function($p1_0,$p1_1){
$1.scoreItems.add(TestEditor.$22($p1_1));});return $1;}
TestEditor.$22=function($p0){var $0=new ScoreItem();$($p0).find('li').has('select.reqvar').each(function($p1_0,$p1_1){
var $1_0=new Requirement();$1_0.variable=$($p1_1).find('select.reqvar').val();$1_0.condition=$($p1_1).find("select[onchange='Score.reqConditionChange(this);']").val();$1_0.value=$($p1_1).find('input.reqvalue').val();$1_0.objVariable=$($p1_1).find('select.reqvarobj').val();$0.requirements.add($1_0);});$0.title=$($p0).find('input.reqtitle').val();$0.subTitle=$($p0).find('input.reqsubtitle').val();$0.description=$($p0).find('p.question-question').html();$0.imageUrl=$($p0).find('.image-container>img').attr('src');return $0;}
TestEditor.readTest_ParseMultichoice=function(el){var $0=new QuestionItem(ItemTypeDef.multiChoice);$0.question=$(el).find('.question-main>p:first-child').html();$0.answers=[];$(el).find('.question-main ul.answers>li:not(:last-child)').each(function($p1_0,$p1_1){
var $1_0=new AnswerItem();$1_0.pures=TestEditor.readPure($($p1_1).find('.answer-html .answer-pure ul').get(0));$1_0.answer=$($p1_1).find('.answer-html .answer-answer').html();$0.answers.add($1_0);});return $0;}
TestEditor.readTest_ParsePhoto=function(el){var $0=new QuestionItem(ItemTypeDef.photo);$0.imagePath=$(el).find('.question-main .image-container img').attr('src');if($0.imagePath==null||!$0.imagePath){return null;}return $0;}
TestEditor.readTest_PageBreak=function(el){var $0=new QuestionItem(ItemTypeDef.pageBreak);$0.buttonNext=$(el).find('.question-main>p:first-child input').val();return $0;}
TestEditor.readTest_ParseHtml=function(el){var $0=new QuestionItem(ItemTypeDef.html);$0.html=$(el).find('.question-main>p:first-child').html();return $0;}
TestEditor.remove=function(ele,testId){var $0=$(ele).closest('tr');$0.find('p,div').fadeOut('fast',function(){
$0.remove();});$.post('/quizz/createtest/remove.php?id='+testId);}
TestEditor.nothing=function(){alert('Feature has not implemented yet');$.get('/taketest/list.php',function($p1_0){
$('.quizzlist').html($p1_0);});$.get('',function($p1_0){
var $1_0=$p1_0;if($1_0.length>2){}$1_0=$1_0.substr(1,$1_0.length-2);var $1_1=eval($1_0);});$.getJSON('',function($p1_0){
});$('').blur(function($p1_0){
$.get('',function($p2_0){
var $2_0=($p2_0).trim();if($2_0.length>2){$2_0=$2_0.substr(1,$2_0.length-2);var $2_1=eval($2_0);}});});}
TestEditor.test1=function(){$('#email').blur(function($p1_0){
$($p1_0.target).parent().find('div:last-child').css('display','block').html().replaceAll('?','');});var $0=null;var $1=$($0).find('img').attr('src');$('#imgviewer > img').attr('src',$1);var $2=null;}
TestEditor.test2=function(){var $0='next';var $1=$('#imgviewer > img').attr('src');var $2='';var $3='';var $4=$('#content_profile_images .profile_img img');var $5=0;if($1==null||!$1){$2=$3=$4.attr('src');}else{for($5=0;$5<$4.length;$5++){if($4[$5].getAttribute('src')===$1){if($5>0){$3=$4[$5-1].getAttribute('src');}if($5<$4.length-1){$2=$4[$5+1].getAttribute('src');}break;}}if(!$2&&$4.length>0){$2=$4[0].getAttribute('src');}if(!$3&&$4.length>0){$3=$4[$4.length-1].getAttribute('src');}}if($5<=0){$('#imgviewer .imgback').css('display','none');}else{$('#imgviewer .imgback').css('display','block');}if($5>=$4.length-1){$('#imgviewer .imgnext').css('display','none');}else{$('#imgviewer .imgnext').css('display','block');}if($0==='next'){$('#imgviewer > img').attr('src',$2);}else{$('#imgviewer > img').attr('src',$3);}}
TestEditor.test3=function(){var $0='';var $1=$('#imgviewer > img').attr('src');var $2=$('#content_profile_images .profile_img img');var $3='';var $4=0;for($4=0;$4<$2.length;$4++){if($2[$4].getAttribute('src')===$1){$3=$2[$4].getAttribute('id');break;}}var $5={};var $dict1=$5;for(var $key2 in $dict1){var $6={key:$key2,value:$dict1[$key2]};}$('').slideUp();$0.substr(0,500);}
window.TestList=function(){}
TestList.search=function(page){var $0=$("input[name='testsearch']").val();$0=eval('escape(search)');var $1={search:$0,order:$("input[name='testorder']:checked").val(),type:(document.URL.indexOf('/quizz/taken')>=0)?'taken':((document.URL.indexOf('/quizz/created')>=0)?'created':'index'),page:page};$('.quizzlist').load('/quizz/list',$1,function($p1_0){
}).error(function($p1_0){
alert('An error occur, please try again later.');});}
TestList.$0=function($p0,$p1){if($p1==null||$p1>310){$p1=310;}if($p0.length<$p1){return $p0;}$p0=$p0.substr(0,$p1);var $0=$p0.lastIndexOf(' ');if($0>$p1-10){return $p0.substr(0,$0)+'...';}return $p0.substr(0,$p1-3)+'...';}
TestList.truncateDescription=function(){$('.testdescription').each(function($p1_0,$p1_1){
var $1_0=$($p1_1);$1_0.text(TestList.$0($1_0.text(),300));$1_0.css('display','block');});}
window.ItemTypeDef=function(){}
window.AnswerItem=function(){this.pures={};}
AnswerItem.prototype={answerId:'',answer:'',selected:false}
window.QuestionItem=function(type){this.itemType=ItemTypeDef.multiChoice;this.itemType=type;}
QuestionItem.prototype={questionId:'',question:null,answers:null,html:null,buttonNext:null,imagePath:null}
window.Test=function(){this.items=[];this.parseError=[];}
Test.prototype={title:null,testId:null,totalPage:0,page:0,status:'editing',testBasic:null,testScore:null}
window.UserAnswer=function(name,value){this.name=name;this.value=value;}
UserAnswer.prototype={name:null,value:null}
window.ResultStats=function(){}
ResultStats.prototype={scoreName:null,percent:0,score:0,minX:0,maxX:0,samplePoints:null,scaling:'Percentage'}
window.TestResult=function(){this.total={};this.scoreItemResults=new Array(0);}
TestResult.prototype={detail:null,takenTime:null,chartDatas:null}
window.ScoreItemResult=function(){}
ScoreItemResult.prototype={title:null,subTitle:null,description:null,imageUrl:null}
window.TestBasic=function(){this.variables=[];}
TestBasic.prototype={description:'',maturity:'Teen',category:'',subCategory:'',thumnailUrl:''}
window.TestScore=function(){this.scoreItems=[];}
TestScore.prototype={scaling:'Raw'}
window.ScoreItem=function(){this.requirements=[];}
ScoreItem.prototype={title:null,subTitle:null,description:null,imageUrl:null}
window.Requirement=function(){}
Requirement.prototype={variable:null,condition:null,value:null,objVariable:null}
Type.registerNamespace('Quizz');Quizz.QuizzChart=function(){this.$5=[];this.$6=Quizz.QuizzChart.$0;this.$7=Quizz.QuizzChart.$0;this.$8=10;this.$D=[];}
Quizz.QuizzChart.prototype={$9:0,$A:2000000000,$B:210,$C:95,init:function(samplePoints,curPosition,minX,maxX,width,height){this.$B=(width)?width:210;this.$C=(height)?height:95;this.$7=minX;this.$8=maxX;if(this.$7>=this.$8){this.$8=this.$7+1;}if(samplePoints.length>0){for(var $0=this.$7;$0<=this.$8;$0++){var $1=this.$E(samplePoints,$0);if($1==null){$1=new Quizz.Point($0,0);}var $2=$1.x;var $3=Math.max(0,$1.y);if($0===this.$7){this.$9=this.$A=$3;}else{if(this.$9>$3){this.$9=$3;}if(this.$A<$3){this.$A=$3;}}if($0-1<curPosition&&curPosition<=$0){this.$6=$0;}this.$5.add(new Quizz.Point($2,$3));}}this.$F();},$E:function($p0,$p1){var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $0=$enum1.current;if($0.x===$p1){return $0;}}return null;},statisticChart_old:function(samplePoints,curPosition,minX,maxX,width,height){this.$B=(width)?width:210;this.$C=(width)?width:95;this.$7=minX;this.$8=maxX;if(this.$7===this.$8){this.$8=this.$7+1;}if(!samplePoints.length){samplePoints[samplePoints.length]=new Quizz.Point(0,0);}if(samplePoints.length===1){samplePoints[samplePoints.length]=new Quizz.Point(samplePoints[0].x+1,0);}for(var $0=0;$0<samplePoints.length;$0++){var $1=samplePoints[$0];var $2=Math.min(10,Math.max(Quizz.QuizzChart.$0,$1.x));var $3=Math.min(0,$1.y);if(!$0){this.$7=this.$8=parseInt($2);this.$9=this.$A=$3;}else{if(this.$9>$3){this.$9=$3;}if(this.$A<$3){this.$A=$3;}}if(!$0||this.$5[$0-1].x<$2){this.$5.add(new Quizz.Point($2,$3));}}if(minX&&minX<this.$7){this.$7=Math.max(Quizz.QuizzChart.$0,minX);}if(maxX&&maxX>this.$8){this.$8=Math.min(10,maxX);}this.$6=(curPosition)?Math.min(this.$8,Math.max(this.$7,curPosition)):this.$7;this.$F();},$F:function(){var $0=[];var $1=[];var $enum1=ss.IEnumerator.getEnumerator(this.$5);while($enum1.moveNext()){var $4=$enum1.current;$0[$0.length]=$4.x;$1[$1.length]=$4.y;}var $2=null;splineFunc = new CubicSpline(lx, ly);this.$D=[];var $3=Math.max(50,this.$C-10);if(this.$5.length>0){for(var $5=0;$5<this.$B+3;$5+=3){if($5>this.$B){$5=this.$B;}var $6=this.$7+(this.$8-this.$7)*$5/this.$B;$6=Math.min($6,this.$8);var $7=0;y = splineFunc.interpolate(x);if($6===this.$8){$7=this.$5[this.$5.length-1].y;}$7=Math.max(0,$7);var $8=Math.max(1,$7/((!this.$A)?1:this.$A)*$3);var $9=null;if($5-3<(this.$6-this.$7)/(this.$8-this.$7)*this.$B&&(this.$6-this.$7)/(this.$8-this.$7)*this.$B<=$5){$9=$8;}this.$D.add([$5/3,$8,((this.$6>=$6)?$8:null),$9]);}}},draw:function(element){var data = new google.visualization.DataTable();
            data.addColumn('number', 'X');
            data.addColumn('number', 'statistic');
            data.addColumn('number', 'You');
            data.addColumn('number', 'Current');
            var options = { 'titlePosition': 'none', 
                'width': this._width + 10, 
                'height': this._height,
                'lineWidth': 1,
                'chartArea': {left:0, top: 0, width: this._width + 1, height: this._height},
                'hAxis': { 'gridlines': { count: 2 }, textPosition: 'none', maxValue:  this._width + 10},
                'vAxis': { 'gridlines': { count: 2 }, textPosition: 'none' },
                'legend': { 'position': 'none' },
                'colors': ['#4eac25', '#4eac25'],
                'tooltip': { 'trigger': 'none' },
                'series': [{}, {}, { 'pointSize': 7}]
            };
            if(this._datatable.length >0){
                data.addRows(this._datatable);
            }
            var chart = new google.visualization.AreaChart(element);
            chart.draw(data, options);;},getMyPercent_raw:function(){var $0=0;var $1=0;var $2=0;var $3=0;for(var $4=0;$4<this.$5.length;$4++){var $5=this.$5[$4];$1+=$5.y;if($5.x<=this.$6){$2+=$5.y;}if($5.x<this.$6){$3+=$5.y;}}$0=($1>0)?($3/$1):0;return Math.round($0*100);},getMyPercent:function(){var $0=0;var $1=0;var $2=0;for(var $3=0;$3<this.$5.length;$3++){var $4=this.$5[$3];if($3>0){var $5=this.$5[$3-1];var $6=($5.y+$4.y)*($4.x-$5.x)/2;$1+=$6;if($4.x<=this.$6){$2+=$6;}}}$0=($1>0)?($2/$1):0;return Math.round($0*100);}}
Quizz.Point=function(x,y){this.x=x;this.y=y;}
Quizz.Point.prototype={x:0,y:0}
Advice.registerClass('Advice');Basic.registerClass('Basic');Score.registerClass('Score');TestEditor.registerClass('TestEditor');TestList.registerClass('TestList');ItemTypeDef.registerClass('ItemTypeDef');AnswerItem.registerClass('AnswerItem');QuestionItem.registerClass('QuestionItem');Test.registerClass('Test');UserAnswer.registerClass('UserAnswer');ResultStats.registerClass('ResultStats');TestResult.registerClass('TestResult');ScoreItemResult.registerClass('ScoreItemResult');TestBasic.registerClass('TestBasic');TestScore.registerClass('TestScore');ScoreItem.registerClass('ScoreItem');Requirement.registerClass('Requirement');Quizz.QuizzChart.registerClass('Quizz.QuizzChart');Quizz.Point.registerClass('Quizz.Point');Advice.$0=['<style type="text/css">\r\n            .testpage .advice #mobility .container .guts p {\r\n\t            margin-bottom: 0.625em;\r\n            }\r\n\r\n            .testpage .advice .advice-heading { margin-top: 6px;  margin-bottom: 12px;}\r\n\r\n            .testpage .advice .advice-heading {\r\n\t            font-size:1.5em;\r\n            }\r\n            .testpage .advice .example-question {\r\n\t            border: 4px solid #beeec5;\r\n\t            background-color:#38a20a;\r\n\t            padding:10px;\r\n\t            margin: 10px 0;\r\n\t            font-size: 0.8em;\r\n\t            color: #f9f9f9;\r\n            }\r\n            .testpage .advice .example-question h4 {\r\n\t            margin: 0 0 8px 0;\r\n\t            font-size: 17px;\r\n\t            color: #f9f9f9;\r\n            }\r\n            .testpage .advice .example-question p,\r\n            .testpage .advice .example-question ul li {\r\n\t            font-size: 13px;\r\n            }\r\n            .testpage .advice .example-question ul {\r\n\t            margin: 8px 18px;\r\n            }\r\n            .testpage .advice ol, ul {\r\n\t            list-style: none;\r\n            }\r\n            .testpage .advice .bad {\r\n                color: #f9f9f9;\r\n\t            background-color:rgb(172, 0, 12);\r\n\t            border: 4px solid #eebebe;\r\n            }\r\n            .testpage .advice i\r\n            {\r\n\t            font-size: 13px;\r\n            }\r\n        </style>\r\n\r\n        <p class="advice-heading">\r\n            Keep your answers short</p>\r\n        <p>\r\n            Test takers are like drunk children. They need simple pleasure or they&#39;ll pass \r\n            out. &quot;True/false,&quot; &quot;Yes/No/Maybe,&quot;-these are understandable by everyone. \r\n            Consider the following scenario question:</p>\r\n        <div class="example-question bad">\r\n            <h4>\r\n                Bad Question: Reader might fall asleep</h4>\r\n            <p>\r\n                You&#39;ve just cooked a really tasty meal for your significant other, and it took \r\n                you 4 hours to prepare all the courses. He or she shows up at home, throws down \r\n                the briefcase, and heads out to join friends. Without eating, and with no \r\n                apology. Do you...</p>\r\n            <ul>\r\n                <li>(a) Follow them out the door, with a pot of food, and dump it on them. Hey, they \r\n                    can either eat it or wear it.</li>\r\n                <li>(b) Try to be understanding; friendship is important and we didn plan the dinner \r\n                    ahead of time</li>\r\n            </ul>\r\n        </div>\r\n        <p>\r\n            Your test will never be popular like this. Be snappy!</p>\r\n        <div class="example-question">\r\n            <h4>\r\n                Good question</h4>\r\n            <p>\r\n                Scenario: you surprise your lover with a 7-course home-cooked meal, but (s)he \r\n                wants to skip out to see friends. Is that cool?</p>\r\n            <ul>\r\n                <li>(a) Sure</li>\r\n                <li>(b) Not really</li>\r\n                <li>(c) No</li>\r\n            </ul>\r\n        </div>\r\n        <p>\r\n            Quick tip: answer options should never wrap lines.</p>','<p class="advice-heading">\r\n            Offer complete answer options</p>\r\n        <p>\r\n            Test takers are also like robots. Their heads explode when they run out of \r\n            options. For example:</p>\r\n        <div class="example-question bad">\r\n            <h4>\r\n                Bad question: Not enough answer options</h4>\r\n            <p>\r\n                You catch your roommate and your boyfriend together. What do you do?</p>\r\n            <ul>\r\n                <li>(a) I fight him to the death.</li>\r\n                <li>(b) I fight her to the death.</li>\r\n            </ul>\r\n        </div>\r\n        <p>\r\n            Sayonara, test taker. Robot-man needs more options. What if he would just roll \r\n            away? What if he would confront them with words and data? Be general, but \r\n            all-encompassing:</p>\r\n        <div class="example-question">\r\n            <p>\r\n                ...what do you do?</p>\r\n            <ul>\r\n                <li>(a) Confront</li>\r\n                <li>(b) Move on</li>\r\n                <li>(c) Other / I don&#39;t know</li>\r\n            </ul>\r\n        </div>','<p class="advice-heading">\r\n            Measure something meaningful</p>\r\n        <p>\r\n            Congratulations on your funny test. To make it go all viral, give your readers \r\n            something accurate to compare. A purity percentage, a colorful personality type, \r\n            a political party, X% of your friends HATE you: these are powerful, telling \r\n            titles and people will want to share. On the other end, &quot;Great job! You got 35 \r\n            lollipop points!&quot; at the end of a test is not so helpful. Give people a \r\n            meaningful result.\r\n        </p>','<p class="advice-heading">\r\n            Make sure everyone doesn&#39;t get the same result</p>\r\n        <p>\r\n            The launch of your test is just the beginning. You should watch your stats \r\n            (accessible from the &quot;Edit your tests&quot; page), and you should adjust scoring or \r\n            results rules to make sure people are getting a variety of results. If you write \r\n            a Which-Superhero-Are-You-Test that has 8 results, make sure people are scoring \r\n            all 8 results. If you write a Purity test, make sure some people score high and \r\n            some low.</p>','<p class="advice-heading">\r\n            Include nice pictures and check your spelling and grammar</p>\r\n        <p>\r\n            The more professional your test, the more it will spread around. Grammar and \r\n            spelling nazis are teh sux0rz, but they are still part of your audience. \r\n            Accommodate those with higher standards, without pissing off those without.</p>','        <p class="advice-heading">\r\n            When your test is polished, make it famous!</p>\r\n        <p>\r\n            Sometimes a test just needs some activation energy. For example, if you write a \r\n            quiz about topic X, seek out forums on X. Email your friends. Find people who \r\n            blog all about X and send your quiz to them. Odds are, they&#39;ll love posting \r\n            about it and thank you. Giving your test a push in the right community can be \r\n            the difference between 100 takers and 100,000 takers. So Google is your friend. \r\n            Research the communities and experts and let them all know.</p>'];Advice.$1="                \r\n                <li class=\"question pagetext\">\r\n                    <div class=\"question-left\">\r\n                        <div style=''>SOME ADVICE</div>\r\n                    </div>\r\n                    <div class=\"question-main\">\r\n                        <p class=\"question-question\">\r\n                            <i>At PinkMeets/Quizzy, we have noticed some trends among the most popular, highest rated tests. \r\n                            This advice is yours to ignore, but we recommend reading the checklist.</i>\r\n                        </p>                        \r\n                    </div>\r\n                    <div class=\"question-right\" style=\"display:none;\">\r\n                    </div>\r\n                </li>";Advice.$2="                \r\n                <li class=\"question pagetext\">\r\n                    <div class=\"question-left\">\r\n                        <div style=''>LAST...</div>\r\n                    </div>\r\n                    <div class=\"question-main\">\r\n                        <p class=\"question-question\">\r\n                            <i>We will add more advice here soon. Thanks for reading... - PinkMeets Staff</i>\r\n                        </p>                        \r\n                    </div>\r\n                    <div class=\"question-right\" style=\"display:none;\">\r\n                    </div>\r\n                </li>";Advice.$3="\r\n                <li class=\"question pagetext\">\r\n                    <div class=\"question-left\">\r\n                        <div class='leftnumber'>{0}</div>\r\n                    </div>\r\n                    <div class=\"question-main\"> \r\n                        <p class=\"question-question\">\r\n                        </p>                          \r\n                    </div>\r\n                    <div class=\"question-right\" style=\"display:none;\">\r\n                    </div>\r\n                </li>";Basic.$0={Advice:['Career','Hobbies','Other','Self-Improvement'],'Animals and Pets':['Household Pets','Maulings','Trivia','Wild Animals'],'Arts and Leisure':[],'Books and Scholarship':['Fiction','History','Nerd Studies','Non-Fiction'],'Life Experience':['Knowledge / Trivia','Languages','Places and Travel','Purity','Sex','Substances','Touchy Subjects'],Lifestyle:['Hobbies','Sexuality'],'Me, Myself, and I':['Compatibility: Female Author Testing Both','Compatibility: Female Author Testing Females','Compatibility: Female Author Testing Males','Compatibility: Male Author Testing Both','Compatibility: Male Author Testing Females','Compatibility: Male Author Testing Males','How Similar Are We?','How Well Do You Know Me?','Other'],Philosophy:['Deep Shit','Semi-Deep Shit'],'Politics and News':['Current Events','Knowledge / Trivia','Social Theory','Touchy Subjects','Voting'],Psychology:['Personality'],'Religion and Spirituality':['Astrology','Atheism','Figuring Things Out','Mythology','Religion','Tom Cruise'],Sports:['Knowledge / Trivia','Obsession'],'TV, Music, and Movies':['Celebrities','Characters','Knowledge / Trivia','Lyrics','Obsession'],Trivia:['Art','Food','History','Humanities','Other','People','Places','Pop Culture','Science and Math','Technology'],Uncategorizable:[],Wacky:['Experimental','Funny','Nonsensical','Other','WTF']};Basic.$1=['DESCRIPTION','MATURITY RATING','CATEGORY','VARIABLES','THUMBNAIL'];Basic.$2=['\r\n          <p>Write a sentence that summarizes your test, for our catalogue.</p>\r\n           <p class="question-question" onclick="TestEditor.editQuestion(this); return false;">\r\n                Find out if you can survive when the zombies attack.</p>\r\n            <div class="question-question-editor">\r\n                <textarea></textarea>\r\n                <br />\r\n                <a class="button-done" href="#" onclick="TestEditor.endEditQuestion(this); return false;">Done</a>\r\n            </div>','<select name="test-rating" class="test-rating" onchange="Basic.updateTestRating(this)">\r\n            <option value="Family">Family</option>\r\n            <option value="Teen" selected="selected">Teen</option>\r\n            <option value="Adult">Adult</option>\r\n           </select>\r\n           <span class="rating-summary-area">Clean and pure for grandmas and babies.</span>\r\n           <span class="rating-summary-area" style="display:inline;">May contain dirty language, near nudity.</span>\r\n           <span class="rating-summary-area">Appropriate for adults only. No hard-core. Think "R" rated.</span>','<p>If possible, choose a category and subcategory that fit your test.</p>\r\n        <p>\r\n            <select class="test-category" onchange="Basic.updateTestCategory(this)" name="test-category">\r\n            </select> \r\n            <span style="display:none;">under</span>\r\n            <select class="test-subcategory" style="display:none;">\r\n            </select>\r\n        </p>\r\n        ','<p>Simple tests that measure one thing about you (e.g. "purity") require one variable. \r\n            Tests that explore multiple parts of your personality, like, say "knowledge" and "potential" require multiple.</p>\r\n        <ul class="variable-listing">\r\n            <li class="variable">\r\n                <label class="variable-label">Variable Name</label>      \r\n                <input onchange="Basic.renameVariable(this);" value="Pure" varname="Pure" type="text">\r\n                <a class="remove" onclick="Basic.removeVariable(this); return false;">remove</a>\r\n            </li>\r\n            <li>\r\n                <a class="add" onclick="Basic.addVariable(this); return false;">add a variable</a>\r\n            </li>   \r\n          </ul>',"<p>And (optional) upload a picture that will go next to your test name.</p>\r\n            <div class=\"fileupload\"></div>\r\n            <div class='imgname' style='display:none'><br /></div>\r\n            <div class=\"image-container\">\r\n                <img src=\"\" onload=\"TestEditor.imageLoaded(this);\" style='display:none; margin: 0px auto 0px auto; ' />\r\n            </div>\r\n            <div class='clear'></div>"];Basic.$3="\r\n                <li class=\"question pagetext\">\r\n                    <div class=\"question-left\">\r\n                        <div style=''>{0}</div>\r\n                    </div>\r\n                    <div class=\"question-main\">                         \r\n                    </div>\r\n                    <div class=\"question-right\" style=\"display:none;\">\r\n                    </div>\r\n                </li>";Basic.$4='\r\n            <li class="variable">\r\n                <label class="variable-label">Variable Name</label>      \r\n                <input onchange="Basic.renameVariable(this);" value="Pure" type="text">\r\n                <a class="remove" onclick="Basic.removeVariable(this); return false;">remove</a>\r\n            </li>';Basic.lastVariableIndexId=1;Score.$0='\r\n    <div class="level1" style="clear: both;">\r\n        <h3>\r\n            Variables</h3>\r\n        <div>\r\n            <p>\r\n                Use these variable ranges when creating your different result types.</p>\r\n            <ul class="varlist">\r\n                <li class="varitem"><strong>Pure</strong> scores range <strong>0</strong> to <strong>\r\n                    1</strong>.</li>\r\n            </ul>\r\n        </div>\r\n        <div class="clear">\r\n        </div>\r\n    </div>\r\n    <div class="level1 scalingtype" style="clear: both;">\r\n        <h3>\r\n            Scaling Type</h3>\r\n        <div>\r\n            <p>\r\n                Switch between raw scores (the ranges listed above) and percents. .</p>\r\n            <p>\r\n                <a class="activebtn" onclick="Score.useScore(this) ;return false;" href="javascript:void();">Use Raw Scores</a> \r\n                <a class="disactivebtn" style="margin-left:20px;" onclick="Score.useScore(this) ;return false;" href="javascript:void();">Using Percentages</a>\r\n            </p>\r\n        </div>\r\n        <div class="clear">\r\n        </div>\r\n    </div>\r\n    <div class="level1" style="clear: both;">\r\n        <h3>\r\n            Result Types</h3>\r\n        <div>\r\n            <p>\r\n                <a class="add" href="javascript:void();" onclick="Score.addResultType(this);" >Add a new result type</a>\r\n            </p>\r\n        </div>\r\n        <div class="clear">\r\n        </div>\r\n    </div>\r\n    <ul style="list-style-type: none; list-style-position: outside; list-style-image: none;" class="scorelist">        \r\n    </ul>';Score.$1="<li style=\"\">\r\n            <div class=\"level1\" style=\"clear: both; position: relative; height: 1px; padding: 0px 0px 0px px;\">\r\n                <a href=\"javascript:void();\" onclick=\"Score.deleteResultType(this);\" style=\"position: absolute; right: 10px; top: -10px;\" class=\"topdeletebtn\">delete\r\n                </a>\r\n                <div class=\"clear\">\r\n                </div>\r\n            </div>\r\n            <div class=\"level1\" style=\"clear: both;\">\r\n                <h4>\r\n                    Give This Result\r\n                </h4>\r\n                <div class=\"requirements-container\">\r\n                </div>\r\n                <div class=\"clear\">\r\n                </div>\r\n            </div>\r\n            <div class=\"level1\" style=\"clear: both;\">\r\n                <h4>\r\n                    Title\r\n                </h4>\r\n                <div>\r\n                    <div>\r\n                        <input class=\"reqtitle viewmode\" style=\"\" value=\"Add title here\" onclick=\"Score.enterEditInput(this)\" />\r\n                    </div>\r\n                    <div style=\"display:none\">\r\n                        <div class=\"caution\">\r\n                            <strong>This is their headline!</strong><i> Pick something powerful and suggestive.</i></div>\r\n                        <a href=\"javascript:void();\" onclick=\"Score.leaveEditInput(this)\" class=\"button-done\">Done</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"clear\">\r\n                </div>\r\n            </div>\r\n            <div class=\"level1\" style=\"clear: both;\">\r\n                <h4>\r\n                    Subtitle\r\n                </h4>\r\n                <div>\r\n                    <div>\r\n                        <input class=\"reqsubtitle viewmode\"  value=\"$(Pure)% Pure!\" style=\"\" onclick=\"Score.enterEditInput(this)\"/>\r\n                    </div>\r\n                    <div style=\"display:none\">\r\n                        <div class=\"caution\">\r\n                            <strong>Tip!</strong> You can refer to the taker's score on a given variable by\r\n                            wrapping it in $( ). For example: <i>$(Pure) percent on Pure. Well done!</i></div>\r\n                        <a href=\"javascript:void();\" onclick=\"Score.leaveEditInput(this)\" class=\"button-done\">Done</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"clear\">\r\n                </div>\r\n            </div>\r\n            <div class=\"level1\" style=\"clear: both;\">\r\n                <h4>\r\n                    Description\r\n                </h4>\r\n                <div class=\"question-main\">\r\n                   <p class=\"question-question\" onclick=\"TestEditor.editQuestion(this); return false;\">\r\n                        You scored $(Pure)% pure. Author: here you should write a description of this test result, telling the taker what his/her score means and why they got it. \r\n                        Note: in the description or title of a test result, you can refer to someone's score on a variable by wrapping the variable name in $(). \r\n                        For example, you could say here, Hey! You scored $(intelligence) on intelligence. Brilliant!</p>\r\n                    <div class=\"question-question-editor\">\r\n                        <textarea></textarea>\r\n                        <br />\r\n                        <a class=\"button-done testtest\" href=\"#\" onclick=\"TestEditor.endEditQuestion(this); return false;\">Done</a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"clear\">\r\n                </div>\r\n            </div>\r\n            <div class=\"level1\" style=\"\">\r\n                <h4>\r\n                    Image\r\n                </h4>\r\n                <div>\r\n                    <div>\r\n                        <div class=\"fileupload\"></div>\r\n                        <div class='imgname' style='display:none'><br /></div>\r\n                        <div class=\"image-container\">\r\n                            <img src=\"\" style='display:none; margin: 0px auto 0px auto; ' />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"clear\">\r\n                </div>\r\n            </div>\r\n            <div style=\"clear: both;\">\r\n            </div>\r\n        </li>";Score.$2='\r\n                    <ul class="requirements">\r\n                        <li>You have to add a <a onclick="Score.addRequirement(this)" href="javascript:void();" style="color:#207cf2">requirement</a> or this result will be ignored.</li>\r\n                        <li style="display:none"><a onclick="Score.addRequirement(this)" href="javascript:void();" class="add">add another requirement</a></li>\r\n                    </ul>';Score.$3='<p><i>... to everyone who takes your test.</i></p>';Score.$4='\r\n        <li>If\r\n            <select class="varoptions reqvar">\r\n            </select>\r\n            is\r\n            <select onchange="Score.reqConditionChange(this);">\r\n                <option value="GreaterThanValue">greater than a value</option>\r\n                <option value="GreaterThanVar">greater than another variable</option>\r\n                <option value="GreatestVar">the greatest variable</option>\r\n                <option selected="" value="LessThanValue">less than a value</option>\r\n                <option value="LessThanVar">less than a another variable</option>\r\n                <option value="LeastVar">the least variable</option>\r\n            </select>\r\n            <input type="text" class="reqvalue" style="width:40px;" />\r\n            <span class="requnit">%</span>\r\n            <select class="varoptions reqvarobj" style="display:none;">\r\n            </select>\r\n            <a onclick="Score.removeRequirement(this);" href="javascript:void();" class="remove">remove</a>\r\n        </li>';TestEditor.$2="\r\n        <h2 class=\"testheader\">\r\n            <label for=\"test-title\">\r\n                You are editing:</label>\r\n            <input class=\"test-title\" name=\"test-title\" onchange=\"return 0\"; type=\"text\" value=\"{0}\"\r\n                onfocus=\"this.style.backgroundColor = '#FFFFE0';\" />\r\n            <input type=\"hidden\" name=\"testid\" value=\"\"/>\r\n            <input type=\"hidden\" name=\"status\" value=\"\"/>\r\n        </h2>\r\n        <div class=\"questions\" style=\"clear: both; display: none; \">\r\n            <ul>    \r\n            </ul>\r\n        </div>\r\n        <div class=\"basic\" style=\"display: block\">\r\n            <ul>\r\n            </ul>\r\n        </div>\r\n        <div class=\"score\" style=\"display: none\">\r\n        </div>\r\n        <div class=\"look\" style=\"display: none\">\r\n            <!-- will load static html from server -->\r\n        </div>\r\n        <div class=\"advice\" style=\"display: none\">\r\n            <ul>\r\n            </ul>\r\n        </div>\r\n        <div class=\"launch\" style=\"display: none\">\r\n            <!-- will load static html from server -->\r\n        </div>\r\n        <div class=\"testfooter\">            \r\n            <a class=\"button\" style=\"display: inline;\" href=\"#\" onclick=\"TestEditor.updateTest(this, false); return false;\">\r\n                Save</a>\r\n            <a class=\"button\" style=\"display: inline;\" href=\"#\" onclick=\"TestEditor.updateTest(this, true); return false;\">\r\n                Complete</a>\r\n        </div>";TestEditor.$3='\r\n        <h2 class="testheader">\r\n            <label for="test-title"></label>\r\n            <input class="test-title" name="test-title"\r\n                type="text" value="{0}" readonly="readonly" />\r\n            <input type="hidden" name="testid" value=""/>\r\n            <input type="hidden" name="status" value=""/>\r\n            <input type="hidden" name="totalpage" value=""/>\r\n            <input type="hidden" name="page" value=""/>\r\n        </h2>\r\n        <div class="questions" style="clear: both;">\r\n            <ul>    \r\n            </ul>\r\n        </div>\r\n        <div id="testfooter">\r\n            <!--<a class="button" style="display: inline;" href="#" onclick="TestEditor.finish(this); return false;">\r\n                Finish</a>-->\r\n        </div>';TestEditor.$4='                                \r\n                                <li><a href="#" onclick="TestEditor.addMultiChoice(this); return false;">add multiple choice question</a></li>\r\n                                <li><a href="#" onclick="TestEditor.addTextOrHtml(this); return false;">add Text or HTML</a></li>\r\n                                <li><a href="#" onclick="TestEditor.addPageBreak(this); return false;">add page break</a></li>\r\n                                <li><a href="#" onclick="TestEditor.addPicture(this); return false;">add picture or photo</a></li>\r\n                                <li><a href="#" onclick="TestEditor.deleteItem(this); return false;">delete this item</a></li>\r\n                                <li><a href="#" onclick="TestEditor.cancel(this); return false;">cancel</a></li>';TestEditor.$5="                \r\n                <li class=\"question testresult\">\r\n                    <div class=\"question-left\">\r\n                        <div style=''>YOUR TEST RESULT:</div>\r\n                    </div>\r\n                    <div class=\"question-main\" style='width:610px;'>\r\n                        <div style='padding:10px 0px 5px 0px;'>\r\n                            <div class=\"rstitle\" style='text-align:center; font-size:24px; color: #f83265;'></div>\r\n                            <div class=\"rssubtitle\" style='text-align:center; font-size:14px; margin-top: 5px;'></div>\r\n                        </div>\r\n                        <div class=\"rsdesc\" style='background-color:#fafafa; margin:5px 0px 10px 10px; padding:5px 10px 5px 10px; min-height:50px;'>\r\n                        </div>\r\n                        <div class='image-container'>\r\n                            <img style='margin: 0px auto; display: none; width=300px;' width='300' src='' onload=\"TestEditor.imageLoaded(this);\" />\r\n                        </div>\r\n                    </div>\r\n                    <div style='clear:both; padding-left:20px; margin-top:10px; color:#207cf2'>\r\n                        <a href='javascript:void();' onclick='TestEditor.showTestResultDetail(this); return false;' style='color:#207cf2!important; display:none;'></a>\r\n                    </div>\r\n                </li>";TestEditor.$6='                \r\n                <li class="question">\r\n                    <div class="question-left">\r\n                        <a href="#" onclick="TestEditor.actionClick(this); return false;" class="button">Actions</a>\r\n                        <div class="qmenu">\r\n                            <ul>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="question-main">\r\n                        <p class="question-question" onclick="TestEditor.editQuestion(this); return false;">\r\n                            Click here to edit your new question. Ok?</p>\r\n                        <div class="question-question-editor">\r\n                            <textarea></textarea>\r\n                            <br />\r\n                            <a class="button-done" href="#" onclick="TestEditor.endEditQuestion(this); return false;">Done</a>\r\n                        </div>\r\n                        <ul class="answers">\r\n                            <li style="clear: both;"><a href="#" onclick="TestEditor.addAnswer(this);  return false;" class="add-answer">add answer</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div class="question-right">\r\n                        <a class="button" href="javascript:void();">Move</a>\r\n                    </div>\r\n                </li>';TestEditor.$7="                \r\n                <li class=\"question\" style=\"display: none;\">\r\n                    <div class=\"question-left\">2\r\n                    </div>\r\n                    <div class=\"question-main\">\r\n                        <p class=\"question-question\">\r\n                        </p>\r\n                        <ul class=\"answers\" style='padding-bottom:2px;'>\r\n                        </ul>\r\n                    </div>\r\n                    <div class=\"question-right\">\r\n                    </div>\r\n                </li>";TestEditor.$8='                \r\n                <li class="question pagetext">\r\n                    <div class="question-left">\r\n                        <a href="#" onclick="TestEditor.actionClick(this); return false;" class="button">Actions</a>\r\n                        <div class="qmenu">\r\n                            <ul>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="question-main">\r\n                        <p class="question-question" onclick="TestEditor.editQuestion(this);  return false;">\r\n                            Edit your text or HTML here.</p>\r\n                        <div class="question-question-editor">\r\n                            <textarea></textarea>\r\n                            <br />\r\n                            <a class="button-done" href="#" onclick="TestEditor.endEditQuestion(this); return false;">Done</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class="question-right">\r\n                        <a class="button" href="javascript:void();">Move</a>\r\n                    </div>\r\n                </li>';TestEditor.$9='                \r\n                <li class="question pagetext" style="display: none;">\r\n                    <div class="question-left">\r\n                    </div>\r\n                    <div class="question-main">\r\n                        <p class="question-question" >\r\n                        </p>\r\n                    </div>\r\n                    <div class="question-right">\r\n                    </div>\r\n                </li>';TestEditor.$A='                \r\n                <li class="question pagetext">\r\n                    <div class="question-left">\r\n                        <a href="#" onclick="TestEditor.actionClick(this); return false;" class="button">Actions</a>\r\n                        <div class="qmenu">\r\n                            <ul>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class="question-main">\r\n                        <p>\r\n                            <strong>Page Break </strong>(Submit Button Text:\r\n                            <input type="text" value="Next" />\r\n                        ) </p>\r\n                    </div>\r\n                    <div class="question-right">\r\n                        <a class="button" href="javascript:void();">Move</a>\r\n                    </div>\r\n                </li>';TestEditor.$B='                \r\n                <li class="question pagetext pagebreak" id="" style="display: none;">\r\n                    <div class="question-left">\r\n                    </div>\r\n                    <div class="question-main">\r\n                        <p class="question-question">\r\n                            <a class="button" style="display: inline;" href="javascript:void(0);" onclick="TestEditor.nextPage(this); return false;" >Next</a>\r\n                        </p>\r\n                    </div>\r\n                    <div class="question-right">\r\n                    </div>\r\n                </li>';TestEditor.$C="                \r\n                <li class=\"question pagetext\" style=\"overflow:auto;\">\r\n                    <div class=\"question-left\">\r\n                        <a href=\"#\" onclick=\"TestEditor.actionClick(this); return false;\" class=\"button\">Actions</a>\r\n                        <div class=\"qmenu\">\r\n                            <ul>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"question-main\">\r\n                        <div class=\"fileupload\"></div>\r\n                        <div class='imgname' style='display:none'><br /></div>\r\n                        <div class=\"image-container\">\r\n                            <img src=\"\" onload=\"TestEditor.imageLoaded(this);\" style='display:none; margin: 0px auto 0px auto;' />\r\n                        </div>\r\n                        <div class='clear'></div>\r\n                    </div>\r\n                    <div class=\"question-right\">\r\n                        <a class=\"button\" href=\"javascript:void();\">Move</a>\r\n                    </div>\r\n                </li>";TestEditor.$D="                \r\n                <li class=\"question pagetext\" style=\"overflow:auto; display: none;\">\r\n                    <div class=\"question-left\">\r\n                    </div>\r\n                    <div class=\"question-main\">\r\n                        <div class=\"image-container\">\r\n                            <img src=\"\" onload=\"TestEditor.imageLoaded(this);\" style='margin: 0px auto 0px auto;' />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"question-right\">\r\n                    </div>\r\n                </li>";TestEditor.$E='           <li style="clear: both;"><span class="answer-dot"><input type="radio" disabled="disabled" /></span>\r\n                <div class="answer-html">\r\n                    <div class="answer-content">\r\n                        <span class="answer-answer" onclick="TestEditor.editAnswer(this); return false;">{0}\r\n                            </span><a class="answer-remove" href="#" onclick="TestEditor.removeAnswer(this);  return false;">remove</a></div>\r\n                    <div class="answer-pure">\r\n                        <ul>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div class="answer-editor">\r\n                    <div class="answer-content">\r\n                        <textarea style="width: 380px; height: 50px;"></textarea>\r\n                        <br />\r\n                        <a class="button-done" href="#" onclick="TestEditor.endEditAnswer(this);  return false;">Done</a>\r\n                    </div>\r\n                    <div class="answer-pure">\r\n                        <ul>\r\n                        </ul>\r\n                    </div>\r\n                    <div class="clear">\r\n                    </div>\r\n                </div>\r\n            </li>';TestEditor.$F='           <li style="clear: both;"><span class="answer-dot"><input type="radio" /></span>\r\n                <div class="answer-html">\r\n                    <div class="answer-content">\r\n                        <span class="answer-answer">{0}\r\n                            </span></div>\r\n                    <div class="answer-pure">\r\n                        <ul>\r\n                        </ul>\r\n                    </div>\r\n                    <div class="clear">\r\n                    </div>\r\n                </div>\r\n            </li>';TestEditor.$10='                                  <li><span>{1}</span>\r\n                                        <label>\r\n                                            {0}&nbsp;\r\n                                        </label>\r\n                                    </li>';TestEditor.$11='                                            <li><span>\r\n                                                <select>\r\n                                                    {1}\r\n                                                </select></span>\r\n                                                <label>\r\n                                                    {0}&nbsp;\r\n                                                </label>\r\n                                            </li>';TestEditor.$18='bold italic underline | size | color highlight removeformat | source';TestEditor.$1B=new RegExp('answer\\s*\\d*\\s*-\\s*click\\s*to\\s*change','i');TestEditor.$1C=new RegExp('[^\\w\\d]','igm');ItemTypeDef.multiChoice='MultiChoice';ItemTypeDef.html='Html';ItemTypeDef.photo='Photo';ItemTypeDef.pageBreak='PageBreak';ItemTypeDef.shortAnswer='ShortAnswer';ItemTypeDef.multiSelect='MultiSelect';Requirement.greaterThanValue='GreaterThanValue';Requirement.lessThanValue='LessThanValue';Requirement.greaterThanVar='GreaterThanVar';Requirement.lessThanVar='LessThanVar';Requirement.greatestVar='GreatestVar';Requirement.leastVar='LeastVar';Quizz.QuizzChart.$0=-10;})(jQuery);// This script was generated using Script# v0.7.4.0
